<section class="card form-card">
  <header class="section-header">
    <div>
      <h2>مدیریت مشتری‌ها</h2>
      <p class="muted">افزودن مشتری جدید یا ویرایش اطلاعات مشتری‌های ثبت شده.</p>
    </div>
    <button class="outline" type="button" (click)="startCreateClient()" [disabled]="isSubmitting">
      افزودن مشتری جدید
    </button>
  </header>

  <p class="success" *ngIf="formSuccessMessage">{{ formSuccessMessage }}</p>
</section>

<div class="modal-backdrop" *ngIf="isFormModalOpen" (click)="closeFormModal()">
  <div class="modal-card" (click)="$event.stopPropagation()">
    <header class="modal-header">
      <div>
        <h3>{{ isEditMode ? 'ویرایش اطلاعات مشتری' : 'ثبت مشتری جدید' }}</h3>
        <p class="muted">اطلاعات مشتری را وارد کنید.</p>
      </div>
      <button type="button" class="close-button" (click)="closeFormModal()" [disabled]="isSubmitting">
        بستن
      </button>
    </header>

    <div class="modal-tabs">
      <button type="button"
              [class.active]="modalActiveTab === 'details'"
              (click)="setModalTab('details')">
        اطلاعات
      </button>
      <button type="button"
              [class.active]="modalActiveTab === 'calls'"
              (click)="setModalTab('calls')">
        تماس‌ها
      </button>
      <button type="button"
              [class.active]="modalActiveTab === 'tasks'"
              (click)="setModalTab('tasks')">
        پیگیری‌ها
      </button>
      <button type="button"
              [class.active]="modalActiveTab === 'appointments'"
              (click)="setModalTab('appointments')">
        نوبت‌ها
      </button>
      <button type="button"
              [class.active]="modalActiveTab === 'treatment'"
              (click)="setModalTab('treatment')">
        طرح درمان
      </button>
    </div>

    <p class="error" *ngIf="formErrorMessage">{{ formErrorMessage }}</p>

    <ng-container *ngIf="modalActiveTab === 'details'">
      <form class="client-form" (ngSubmit)="submitClient()">
        <div class="form-grid">
          <label>
            نام
            <input type="text" name="firstName" [(ngModel)]="formData.firstName" />
          </label>
          <label>
            نام خانوادگی
            <input type="text" name="lastName" [(ngModel)]="formData.lastName" />
          </label>
          <label>
            عنوان
            <input type="text" name="title" [(ngModel)]="formData.title" required />
          </label>
          <label>
            موبایل ۱
            <input type="text" name="mobileNumber1" [(ngModel)]="formData.mobileNumber1" required />
          </label>
          <label>
            موبایل ۲
            <input type="text" name="mobileNumber2" [(ngModel)]="formData.mobileNumber2" />
          </label>
          <label>
            تلفن ثابت
            <input type="text" name="phoneNumber" [(ngModel)]="formData.phoneNumber" />
          </label>
          <label>
            ایمیل
            <input type="email" name="email" [(ngModel)]="formData.email" />
          </label>
          <label class="date-picker-field">
            تاریخ تولد
            <input
              type="text"
              name="birthDay"
              placeholder="مثال: 1403/01/01"
              [(ngModel)]="formData.birthDay"
              (blur)="formData.birthDay = normalizeDateInput(formData.birthDay)"
              (click)="openDatePicker('birthDay', formData.birthDay); $event.stopPropagation()"
              (focus)="openDatePicker('birthDay', formData.birthDay)"
            />
            <div
              class="jalali-datepicker"
              *ngIf="activeDatePicker === 'birthDay'"
              (click)="$event.stopPropagation()"
            >
              <div class="calendar-header">
                <button type="button" (click)="changeDatePickerMonth(-1)">
                  &lt;
                </button>
                <span>{{ datePickerMonths[datePickerMonth - 1] }} {{ datePickerYear }}</span>
                <button type="button" (click)="changeDatePickerMonth(1)">
                  &gt;
                </button>
              </div>
              <div class="calendar-grid">
                <span class="weekday" *ngFor="let day of datePickerWeekdays">{{ day }}</span>
                <span class="empty" *ngFor="let empty of datePickerLeadingDays"></span>
                <button
                  type="button"
                  class="day"
                  *ngFor="let day of datePickerDays"
                  [class.selected]="isDatePickerSelected(day)"
                  [class.today]="isDatePickerToday(day)"
                  (click)="selectDatePickerDay(day)"
                >
                  {{ day }}
                </button>
              </div>
            </div>
          </label>
          <label>
            نوع خدمات
            <select name="dentalService" [(ngModel)]="formData.dentalService">
              <option *ngFor="let service of dentalServiceOptions" [ngValue]="service.value">
                {{ service.label }}
              </option>
            </select>
          </label>
          <label class="full">
            آدرس
            <input type="text" name="address" [(ngModel)]="formData.address" />
          </label>
          <label>
            استان
            <input type="text" name="province" [(ngModel)]="formData.province" />
          </label>
          <label>
            شهر
            <input type="text" name="city" [(ngModel)]="formData.city" />
          </label>
          <label>
            کد پستی
            <input type="text" name="postalCode" [(ngModel)]="formData.postalCode" />
          </label>
          <label>
            کشور
            <input type="text" name="country" [(ngModel)]="formData.country" />
          </label>
          <label class="full">
            توضیحات
            <textarea name="description" rows="3" [(ngModel)]="formData.description"></textarea>
          </label>
        </div>
        <div class="form-actions">
          <button type="submit" [disabled]="isSubmitting">
            {{ isEditMode ? 'ذخیره تغییرات' : 'ثبت مشتری' }}
          </button>
          <button type="button" class="outline" (click)="startCreateClient()" [disabled]="isSubmitting">
            پاک کردن فرم
          </button>
        </div>
      </form>
    </ng-container>

    <ng-container *ngIf="modalActiveTab === 'calls'">
      <div class="modal-calls-header">
        <div>
          <p class="muted">تماس‌های مرتبط با موبایل مشتری را بررسی کنید.</p>
          <p class="muted">شماره انتخابی: {{ modalSelectedPhone || '---' }}</p>
        </div>
        <div class="table-actions">
          <button type="button"
                  class="outline"
                  (click)="selectModalPhone(formData.mobileNumber1)"
                  [disabled]="!formData.mobileNumber1">
            موبایل ۱
          </button>
          <button type="button"
                  class="outline"
                  (click)="selectModalPhone(formData.mobileNumber2)"
                  [disabled]="!formData.mobileNumber2">
            موبایل ۲
          </button>
        </div>
      </div>

      <div class="filters">
        <label class="date-picker-field">
          از تاریخ
          <input
            type="text"
            placeholder="مثال: 1403/01/01"
            [(ngModel)]="startDate"
            (blur)="startDate = normalizeDateInput(startDate)"
            (click)="openDatePicker('modalCallStart', startDate); $event.stopPropagation()"
            (focus)="openDatePicker('modalCallStart', startDate)"
          />
          <div
            class="jalali-datepicker"
            *ngIf="activeDatePicker === 'modalCallStart'"
            (click)="$event.stopPropagation()"
          >
            <div class="calendar-header">
              <button type="button" (click)="changeDatePickerMonth(-1)">
                &lt;
              </button>
              <span>{{ datePickerMonths[datePickerMonth - 1] }} {{ datePickerYear }}</span>
              <button type="button" (click)="changeDatePickerMonth(1)">
                &gt;
              </button>
            </div>
            <div class="calendar-grid">
              <span class="weekday" *ngFor="let day of datePickerWeekdays">{{ day }}</span>
              <span class="empty" *ngFor="let empty of datePickerLeadingDays"></span>
              <button
                type="button"
                class="day"
                *ngFor="let day of datePickerDays"
                [class.selected]="isDatePickerSelected(day)"
                [class.today]="isDatePickerToday(day)"
                (click)="selectDatePickerDay(day)"
              >
                {{ day }}
              </button>
            </div>
          </div>
        </label>
        <label class="date-picker-field">
          تا تاریخ
          <input
            type="text"
            placeholder="مثال: 1403/01/01"
            [(ngModel)]="endDate"
            (blur)="endDate = normalizeDateInput(endDate)"
            (click)="openDatePicker('modalCallEnd', endDate); $event.stopPropagation()"
            (focus)="openDatePicker('modalCallEnd', endDate)"
          />
          <div
            class="jalali-datepicker"
            *ngIf="activeDatePicker === 'modalCallEnd'"
            (click)="$event.stopPropagation()"
          >
            <div class="calendar-header">
              <button type="button" (click)="changeDatePickerMonth(-1)">
                &lt;
              </button>
              <span>{{ datePickerMonths[datePickerMonth - 1] }} {{ datePickerYear }}</span>
              <button type="button" (click)="changeDatePickerMonth(1)">
                &gt;
              </button>
            </div>
            <div class="calendar-grid">
              <span class="weekday" *ngFor="let day of datePickerWeekdays">{{ day }}</span>
              <span class="empty" *ngFor="let empty of datePickerLeadingDays"></span>
              <button
                type="button"
                class="day"
                *ngFor="let day of datePickerDays"
                [class.selected]="isDatePickerSelected(day)"
                [class.today]="isDatePickerToday(day)"
                (click)="selectDatePickerDay(day)"
              >
                {{ day }}
              </button>
            </div>
          </div>
        </label>
        <button type="button" (click)="loadModalCallRecords()" [disabled]="modalIsLoadingCalls">
          {{ modalIsLoadingCalls ? 'در حال دریافت...' : 'نمایش تماس‌ها' }}
        </button>
      </div>

      <p class="error" *ngIf="modalCallsErrorMessage">{{ modalCallsErrorMessage }}</p>

      <div class="calls" *ngIf="modalCallRecords.length">
        <table>
          <thead>
            <tr>
              <th>تاریخ تماس</th>
              <th>تماس‌گیرنده</th>
              <th>شماره مقصد</th>
              <th>مدت زمان</th>
              <th>وضعیت</th>
              <th>فایل ضبط</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let call of modalCallRecords">
              <td>{{ formatCallDate(call.callDate) }}</td>
              <td>{{ call.src }}</td>
              <td>{{ call.dst }}</td>
              <td>{{ call.duration }} ثانیه</td>
              <td>{{ call.disposition }}</td>
              <td>
                <ng-container *ngIf="call.recordingFile; else modalNoRecording">
                  <audio controls [src]="getRecordingUrl(call.recordingFile)"></audio>
                  <a class="recording-link"
                     [href]="getRecordingUrl(call.recordingFile)"
                     target="_blank"
                     rel="noopener">
                    پخش در تب جدید
                  </a>
                </ng-container>
                <ng-template #modalNoRecording>---</ng-template>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <p class="muted" *ngIf="!modalCallRecords.length && !modalIsLoadingCalls">
        تماسی برای نمایش وجود ندارد.
      </p>
    </ng-container>

    <ng-container *ngIf="modalActiveTab === 'tasks'">
      <div class="tasks-header">
        <div>
          <p class="muted">برای هر مشتری پیگیری ثبت کنید تا در تاریخ و ساعت مشخص یادآوری شود.</p>
          <p class="muted" *ngIf="!formData.id">برای ثبت پیگیری ابتدا باید مشتری ذخیره شود.</p>
        </div>
      </div>

      <div class="task-form">
        <label class="date-picker-field">
          تاریخ
          <input
            type="text"
            name="taskDate"
            placeholder="مثال: 1403/01/01"
            [(ngModel)]="taskForm.date"
            (blur)="taskForm.date = normalizeDateInput(taskForm.date)"
            (click)="openDatePicker('task', taskForm.date); $event.stopPropagation()"
            (focus)="openDatePicker('task', taskForm.date)"
          />
          <div
            class="jalali-datepicker"
            *ngIf="activeDatePicker === 'task'"
            (click)="$event.stopPropagation()"
          >
            <div class="calendar-header">
              <button type="button" (click)="changeDatePickerMonth(-1)">
                ‹
              </button>
              <span>{{ datePickerMonths[datePickerMonth - 1] }} {{ datePickerYear }}</span>
              <button type="button" (click)="changeDatePickerMonth(1)">
                ›
              </button>
            </div>
            <div class="calendar-grid">
              <span class="weekday" *ngFor="let day of datePickerWeekdays">{{ day }}</span>
              <span class="empty" *ngFor="let empty of datePickerLeadingDays"></span>
              <button
                type="button"
                class="day"
                *ngFor="let day of datePickerDays"
                [class.selected]="isDatePickerSelected(day)"
                [class.today]="isDatePickerToday(day)"
                (click)="selectDatePickerDay(day)"
              >
                {{ day }}
              </button>
            </div>
          </div>
        </label>
        <label>
          ساعت
          <input
            type="time"
            name="taskTime"
            lang="fa-IR"
            [(ngModel)]="taskForm.time"
            (blur)="taskForm.time = normalizeTimeInput(taskForm.time)"
          />
        </label>
        <label class="full">
          موضوع پیگیری
          <input type="text" name="taskSubject" [(ngModel)]="taskForm.subject" />
        </label>
        <label class="full">
          توضیحات تکمیلی
          <textarea name="taskDescription" rows="3" [(ngModel)]="taskForm.description"></textarea>
        </label>
      </div>

      <div class="form-actions">
        <button type="button" (click)="addTask()" [disabled]="!canAddTask()">
          ثبت پیگیری
        </button>
        <button type="button" class="outline" (click)="resetTaskForm()">
          پاک کردن
        </button>
      </div>

      <p class="error" *ngIf="taskErrorMessage">{{ taskErrorMessage }}</p>
      <p class="success" *ngIf="taskSuccessMessage">{{ taskSuccessMessage }}</p>

      <div class="tasks-table" *ngIf="modalTasks.length">
        <table>
          <thead>
            <tr>
              <th>تاریخ و ساعت</th>
              <th>موضوع</th>
              <th>توضیحات</th>
              <th>وضعیت</th>
              <th>مدیریت</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let task of modalTasks">
              <td>{{ task.date }} - {{ task.time }}</td>
              <td>{{ task.subject }}</td>
              <td>{{ task.description || '---' }}</td>
              <td>
                <span class="status-pill" [class.done]="task.isDone">
                  {{ task.isDone ? 'انجام شد' : 'در انتظار' }}
                </span>
              </td>
              <td>
                <div class="table-actions">
                  <button type="button" class="outline" (click)="toggleTaskDone(task)">
                    {{ task.isDone ? 'بازگشت' : 'انجام شد' }}
                  </button>
                  <button type="button" class="danger" (click)="deleteTask(task)">حذف</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <p class="muted" *ngIf="!modalTasks.length">پیگیری ثبت نشده است.</p>
    </ng-container>

    <ng-container *ngIf="modalActiveTab === 'appointments'">
      <div class="appointments-header">
        <div>
          <p class="muted">برای هر مشتری نوبت ثبت کنید تا برنامه‌ریزی مراجعه مشخص باشد.</p>
          <p class="muted" *ngIf="!formData.id">برای ثبت نوبت ابتدا باید مشتری ذخیره شود.</p>
        </div>
      </div>

      <div class="appointment-form">
        <label class="date-picker-field">
          تاریخ
          <input
            type="text"
            name="appointmentDate"
            placeholder="مثال: 1403/01/01"
            [(ngModel)]="appointmentForm.date"
            (blur)="appointmentForm.date = normalizeDateInput(appointmentForm.date)"
            (click)="openDatePicker('appointment', appointmentForm.date); $event.stopPropagation()"
            (focus)="openDatePicker('appointment', appointmentForm.date)"
          />
          <div
            class="jalali-datepicker"
            *ngIf="activeDatePicker === 'appointment'"
            (click)="$event.stopPropagation()"
          >
            <div class="calendar-header">
              <button type="button" (click)="changeDatePickerMonth(-1)">
                ‹
              </button>
              <span>{{ datePickerMonths[datePickerMonth - 1] }} {{ datePickerYear }}</span>
              <button type="button" (click)="changeDatePickerMonth(1)">
                ›
              </button>
            </div>
            <div class="calendar-grid">
              <span class="weekday" *ngFor="let day of datePickerWeekdays">{{ day }}</span>
              <span class="empty" *ngFor="let empty of datePickerLeadingDays"></span>
              <button
                type="button"
                class="day"
                *ngFor="let day of datePickerDays"
                [class.selected]="isDatePickerSelected(day)"
                [class.today]="isDatePickerToday(day)"
                (click)="selectDatePickerDay(day)"
              >
                {{ day }}
              </button>
            </div>
          </div>
        </label>
        <label>
          ساعت
          <input
            type="time"
            name="appointmentTime"
            lang="fa-IR"
            [(ngModel)]="appointmentForm.time"
            (blur)="appointmentForm.time = normalizeTimeInput(appointmentForm.time)"
          />
        </label>
        <label class="full">
          نوع نوبت
          <input type="text" name="appointmentService" [(ngModel)]="appointmentForm.service" />
        </label>
        <label class="full">
          توضیحات
          <textarea name="appointmentNotes" rows="3" [(ngModel)]="appointmentForm.notes"></textarea>
        </label>
      </div>

      <div class="form-actions">
        <button type="button" (click)="addAppointment()" [disabled]="!canAddAppointment()">
          ثبت نوبت
        </button>
        <button type="button" class="outline" (click)="resetAppointmentForm()">
          پاک کردن
        </button>
      </div>

      <p class="error" *ngIf="appointmentErrorMessage">{{ appointmentErrorMessage }}</p>
      <p class="success" *ngIf="appointmentSuccessMessage">{{ appointmentSuccessMessage }}</p>

      <div class="appointments-table" *ngIf="modalAppointments.length">
        <table>
          <thead>
            <tr>
              <th>تاریخ و ساعت</th>
              <th>نوع نوبت</th>
              <th>توضیحات</th>
              <th>وضعیت</th>
              <th>مدیریت</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let appointment of modalAppointments">
              <td>{{ appointment.date }} - {{ appointment.time }}</td>
              <td>{{ appointment.service }}</td>
              <td>{{ appointment.notes || '---' }}</td>
              <td>
                <span class="status-pill"
                      [class.done]="appointment.status === 'completed'"
                      [class.canceled]="appointment.status === 'canceled'">
                  {{
                    appointment.status === 'scheduled'
                      ? 'رزرو شده'
                      : appointment.status === 'confirmed'
                      ? 'تایید شده'
                      : appointment.status === 'completed'
                      ? 'انجام شده'
                      : 'لغو شده'
                  }}
                </span>
              </td>
              <td>
                <div class="table-actions">
                  <button type="button"
                          class="outline"
                          (click)="updateAppointmentStatus(appointment, 'confirmed')">
                    تایید
                  </button>
                  <button type="button" class="outline" (click)="updateAppointmentStatus(appointment, 'completed')">
                    انجام شد
                  </button>
                  <button type="button" class="outline" (click)="updateAppointmentStatus(appointment, 'canceled')">
                    لغو
                  </button>
                  <button type="button" class="danger" (click)="deleteAppointment(appointment)">حذف</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <p class="muted" *ngIf="!modalAppointments.length">نوبتی ثبت نشده است.</p>
    </ng-container>

    <ng-container *ngIf="modalActiveTab === 'treatment'">
      <div class="treatment-header">
        <div>
          <p class="muted">طرح درمان را از روی تصویر انتخاب کنید و توضیحات لازم را ثبت کنید.</p>
          <p class="muted" *ngIf="!formData.id">برای ذخیره طرح درمان ابتدا باید مشتری ذخیره شود.</p>
        </div>
        <div class="table-actions">
          <button type="button" class="outline" (click)="clearTreatmentSelection()">پاک کردن انتخاب‌ها</button>
        </div>
      </div>

      <div class="treatment-content">
        <div class="treatment-diagram">
          <svg data-v-5fa3668e="" id="teethSVG" class="teeth-diagram" viewBox="0 0 757 335" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path data-v-5fa3668e="" fill-rule="evenodd" clip-rule="evenodd" d="M664.391 77.986L620.365 192.964C620.365 192.964 573.049 297.839 370.214 288.945C204.972 281.7 172.575 231.809 152.082 200.962C129.782 167.395 86.042 79.986 86.042 79.986C86.042 79.986 61.742 49.18 162.088 59.986C262.434 70.792 503.294 62.986 503.294 62.986C503.294 62.986 686.948 32.372 664.391 77.986Z" fill="#F6979C"></path>
            <ng-container *ngFor="let tooth of teethToRender; trackBy: trackByToothId">
              <path *ngIf="TOOTH_PATHS?.[tooth.id]"
                    class="tpt__tooth-svg"
                    [attr.d]="TOOTH_PATHS[tooth.id]"
                    [attr.data-tooth-id]="tooth.id"
                    [attr.fill]="isToothSelected(tooth.id) ? '#bbdefb' : '#ffffff'"
                    [attr.stroke]="isToothSelected(tooth.id) ? '#fff' : '#ccc'"
                    [class.tpt__tooth-svg--active]="isToothSelected(tooth.id)"
                    style="cursor: pointer;"
                    (click)="toggleTooth(tooth)">
              </path>
            </ng-container>
            <path data-v-5fa3668e="" d="M607.595 173.914C607.317 174.241 607.042 174.615 606.769 175.035C606.502 175.449 606.24 175.902 605.984 176.393C605.733 176.884 605.49 177.407 605.255 177.964C605.021 178.515 604.797 179.09 604.585 179.69C604.405 180.197 604.241 180.705 604.094 181.212C603.952 181.719 603.829 182.205 603.725 182.668C603.627 183.132 603.551 183.565 603.496 183.969C603.442 184.373 603.415 184.722 603.415 185.016H601.876C601.876 184.722 601.849 184.373 601.795 183.969C601.74 183.565 601.661 183.132 601.557 182.668C601.454 182.205 601.331 181.719 601.189 181.212C601.047 180.705 600.886 180.197 600.706 179.69C600.494 179.09 600.267 178.515 600.027 177.964C599.793 177.407 599.547 176.884 599.291 176.393C599.035 175.902 598.773 175.449 598.505 175.035C598.238 174.615 597.968 174.241 597.695 173.914L598.882 172.915C599.182 173.281 599.479 173.693 599.774 174.151C600.068 174.609 600.355 175.103 600.633 175.632C600.911 176.161 601.178 176.725 601.435 177.325C601.691 177.92 601.931 178.539 602.155 179.183C602.247 179.439 602.332 179.693 602.408 179.944C602.49 180.195 602.569 180.448 602.645 180.705C602.722 180.448 602.798 180.195 602.875 179.944C602.956 179.693 603.044 179.439 603.136 179.183C603.36 178.539 603.597 177.92 603.848 177.325C604.105 176.725 604.372 176.161 604.65 175.632C604.928 175.103 605.215 174.609 605.509 174.151C605.804 173.693 606.104 173.281 606.409 172.915L607.595 173.914Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M160.595 173.914C160.317 174.241 160.042 174.615 159.769 175.035C159.502 175.449 159.24 175.902 158.984 176.393C158.733 176.884 158.49 177.407 158.255 177.964C158.021 178.515 157.797 179.09 157.585 179.69C157.405 180.197 157.241 180.705 157.094 181.212C156.952 181.719 156.829 182.205 156.725 182.668C156.627 183.132 156.551 183.565 156.496 183.969C156.442 184.373 156.415 184.722 156.415 185.016H154.876C154.876 184.722 154.849 184.373 154.795 183.969C154.74 183.565 154.661 183.132 154.557 182.668C154.454 182.205 154.331 181.719 154.189 181.212C154.047 180.705 153.886 180.197 153.706 179.69C153.494 179.09 153.267 178.515 153.027 177.964C152.793 177.407 152.547 176.884 152.291 176.393C152.035 175.902 151.773 175.449 151.505 175.035C151.238 174.615 150.968 174.241 150.695 173.914L151.882 172.915C152.182 173.281 152.479 173.693 152.774 174.151C153.068 174.609 153.355 175.103 153.633 175.632C153.911 176.161 154.178 176.725 154.435 177.325C154.691 177.92 154.931 178.539 155.155 179.183C155.247 179.439 155.332 179.693 155.408 179.944C155.49 180.195 155.569 180.448 155.645 180.705C155.722 180.448 155.798 180.195 155.875 179.944C155.956 179.693 156.044 179.439 156.136 179.183C156.36 178.539 156.597 177.92 156.848 177.325C157.105 176.725 157.372 176.161 157.65 175.632C157.928 175.103 158.215 174.609 158.509 174.151C158.804 173.693 159.104 173.281 159.409 172.915L160.595 173.914Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M137.595 84.9136C137.317 85.2409 137.042 85.6145 136.769 86.0345C136.502 86.4491 136.24 86.9018 135.984 87.3927C135.733 87.8836 135.49 88.4073 135.255 88.9636C135.021 89.5145 134.797 90.09 134.585 90.69C134.405 91.1973 134.241 91.7045 134.094 92.2118C133.952 92.7191 133.829 93.2045 133.725 93.6682C133.627 94.1318 133.551 94.5655 133.496 94.9691C133.442 95.3727 133.415 95.7218 133.415 96.0164H131.876C131.876 95.7218 131.849 95.3727 131.795 94.9691C131.74 94.5655 131.661 94.1318 131.557 93.6682C131.454 93.2045 131.331 92.7191 131.189 92.2118C131.047 91.7045 130.886 91.1973 130.706 90.69C130.494 90.09 130.267 89.5145 130.027 88.9636C129.793 88.4073 129.547 87.8836 129.291 87.3927C129.035 86.9018 128.773 86.4491 128.505 86.0345C128.238 85.6145 127.968 85.2409 127.695 84.9136L128.882 83.9155C129.182 84.2809 129.479 84.6927 129.774 85.1509C130.068 85.6091 130.355 86.1027 130.633 86.6318C130.911 87.1609 131.178 87.7255 131.435 88.3255C131.691 88.92 131.931 89.5391 132.155 90.1827C132.247 90.4391 132.332 90.6927 132.408 90.9436C132.49 91.1945 132.569 91.4482 132.645 91.7045C132.722 91.4482 132.798 91.1945 132.875 90.9436C132.956 90.6927 133.044 90.4391 133.136 90.1827C133.36 89.5391 133.597 88.92 133.848 88.3255C134.105 87.7255 134.372 87.1609 134.65 86.6318C134.928 86.1027 135.215 85.6091 135.509 85.1509C135.804 84.6927 136.104 84.2809 136.409 83.9155L137.595 84.9136Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M630.595 84.9136C630.317 85.2409 630.042 85.6145 629.769 86.0345C629.502 86.4491 629.24 86.9018 628.984 87.3927C628.733 87.8836 628.49 88.4073 628.255 88.9636C628.021 89.5145 627.797 90.09 627.585 90.69C627.405 91.1973 627.241 91.7045 627.094 92.2118C626.952 92.7191 626.829 93.2045 626.725 93.6682C626.627 94.1318 626.551 94.5655 626.496 94.9691C626.442 95.3727 626.415 95.7218 626.415 96.0164H624.876C624.876 95.7218 624.849 95.3727 624.795 94.9691C624.74 94.5655 624.661 94.1318 624.557 93.6682C624.454 93.2045 624.331 92.7191 624.189 92.2118C624.047 91.7045 623.886 91.1973 623.706 90.69C623.494 90.09 623.267 89.5145 623.027 88.9636C622.793 88.4073 622.547 87.8836 622.291 87.3927C622.035 86.9018 621.773 86.4491 621.505 86.0345C621.238 85.6145 620.968 85.2409 620.695 84.9136L621.882 83.9155C622.182 84.2809 622.479 84.6927 622.774 85.1509C623.068 85.6091 623.355 86.1027 623.633 86.6318C623.911 87.1609 624.178 87.7255 624.435 88.3255C624.691 88.92 624.931 89.5391 625.155 90.1827C625.247 90.4391 625.332 90.6927 625.408 90.9436C625.49 91.1945 625.569 91.4482 625.645 91.7045C625.722 91.4482 625.798 91.1945 625.875 90.9436C625.956 90.6927 626.044 90.4391 626.136 90.1827C626.36 89.5391 626.597 88.92 626.848 88.3255C627.105 87.7255 627.372 87.1609 627.65 86.6318C627.928 86.1027 628.215 85.6091 628.509 85.1509C628.804 84.6927 629.104 84.2809 629.409 83.9155L630.595 84.9136Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M578.591 192.826L577.945 193.432C577.895 193.486 577.781 193.623 577.601 193.841C577.421 194.059 577.197 194.343 576.93 194.692C576.668 195.035 576.374 195.442 576.046 195.911C575.719 196.375 575.381 196.885 575.032 197.441C574.688 197.992 574.345 198.584 574.001 199.216C573.657 199.844 573.341 200.493 573.052 201.164L571.645 200.542C572.081 199.538 572.558 198.595 573.076 197.711C573.595 196.822 574.096 196.023 574.582 195.314C574.336 195.346 574.083 195.355 573.821 195.338C573.559 195.322 573.303 195.278 573.052 195.207C572.801 195.131 572.558 195.027 572.324 194.896C572.095 194.76 571.887 194.591 571.702 194.389C571.391 194.051 571.175 193.685 571.055 193.293C570.941 192.895 570.903 192.502 570.941 192.115C570.979 191.727 571.085 191.359 571.26 191.01C571.435 190.661 571.655 190.358 571.923 190.102C572.13 189.916 572.345 189.766 572.569 189.652C572.798 189.537 573.033 189.445 573.273 189.374C573.518 189.297 573.764 189.235 574.009 189.185C574.26 189.131 574.514 189.076 574.77 189.022L575.105 190.527C574.915 190.56 574.715 190.598 574.508 190.642C574.301 190.68 574.102 190.726 573.911 190.781C573.72 190.835 573.543 190.901 573.379 190.977C573.215 191.048 573.082 191.133 572.978 191.231C572.842 191.356 572.727 191.506 572.635 191.681C572.547 191.855 572.493 192.038 572.471 192.229C572.449 192.42 572.465 192.611 572.52 192.802C572.575 192.993 572.678 193.17 572.831 193.334C572.88 193.383 572.943 193.44 573.019 193.505C573.101 193.571 573.196 193.631 573.305 193.685C573.42 193.74 573.548 193.784 573.69 193.816C573.837 193.849 573.998 193.857 574.173 193.841C574.571 193.819 574.994 193.677 575.441 193.415C575.894 193.148 576.371 192.783 576.873 192.319L577.552 191.697L578.591 192.826Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M188.591 192.826L187.945 193.432C187.895 193.486 187.781 193.623 187.601 193.841C187.421 194.059 187.197 194.343 186.93 194.692C186.668 195.035 186.374 195.442 186.046 195.911C185.719 196.375 185.381 196.885 185.032 197.441C184.688 197.992 184.345 198.584 184.001 199.216C183.657 199.844 183.341 200.493 183.052 201.164L181.645 200.542C182.081 199.538 182.558 198.595 183.076 197.711C183.595 196.822 184.096 196.023 184.582 195.314C184.336 195.346 184.083 195.355 183.821 195.338C183.559 195.322 183.303 195.278 183.052 195.207C182.801 195.131 182.558 195.027 182.324 194.896C182.095 194.76 181.887 194.591 181.702 194.389C181.391 194.051 181.175 193.685 181.055 193.293C180.941 192.895 180.903 192.502 180.941 192.115C180.979 191.727 181.085 191.359 181.26 191.01C181.435 190.661 181.655 190.358 181.923 190.102C182.13 189.916 182.345 189.766 182.569 189.652C182.798 189.537 183.033 189.445 183.273 189.374C183.518 189.297 183.764 189.235 184.009 189.185C184.26 189.131 184.514 189.076 184.77 189.022L185.105 190.527C184.915 190.56 184.715 190.598 184.508 190.642C184.301 190.68 184.102 190.726 183.911 190.781C183.72 190.835 183.543 190.901 183.379 190.977C183.215 191.048 183.082 191.133 182.978 191.231C182.842 191.356 182.727 191.506 182.635 191.681C182.547 191.855 182.493 192.038 182.471 192.229C182.449 192.42 182.465 192.611 182.52 192.802C182.575 192.993 182.678 193.17 182.831 193.334C182.88 193.383 182.943 193.44 183.019 193.505C183.101 193.571 183.196 193.631 183.305 193.685C183.42 193.74 183.548 193.784 183.69 193.816C183.837 193.849 183.998 193.857 184.173 193.841C184.571 193.819 184.994 193.677 185.441 193.415C185.894 193.148 186.371 192.783 186.873 192.319L187.552 191.697L188.591 192.826Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M161.591 98.8264L160.945 99.4318C160.895 99.4864 160.781 99.6227 160.601 99.8409C160.421 100.059 160.197 100.343 159.93 100.692C159.668 101.035 159.374 101.442 159.046 101.911C158.719 102.375 158.381 102.885 158.032 103.441C157.688 103.992 157.345 104.584 157.001 105.216C156.657 105.844 156.341 106.493 156.052 107.164L154.645 106.542C155.081 105.538 155.558 104.595 156.076 103.711C156.595 102.822 157.096 102.023 157.582 101.314C157.336 101.346 157.083 101.355 156.821 101.338C156.559 101.322 156.303 101.278 156.052 101.207C155.801 101.131 155.558 101.027 155.324 100.896C155.095 100.76 154.887 100.591 154.702 100.389C154.391 100.051 154.175 99.6855 154.055 99.2927C153.941 98.8945 153.903 98.5018 153.941 98.1145C153.979 97.7273 154.085 97.3591 154.26 97.01C154.435 96.6609 154.655 96.3582 154.923 96.1018C155.13 95.9164 155.345 95.7664 155.569 95.6518C155.798 95.5373 156.033 95.4445 156.273 95.3736C156.518 95.2973 156.764 95.2345 157.009 95.1855C157.26 95.1309 157.514 95.0764 157.77 95.0218L158.105 96.5273C157.915 96.56 157.715 96.5982 157.508 96.6418C157.301 96.68 157.102 96.7264 156.911 96.7809C156.72 96.8355 156.543 96.9009 156.379 96.9773C156.215 97.0482 156.082 97.1327 155.978 97.2309C155.842 97.3564 155.727 97.5064 155.635 97.6809C155.547 97.8555 155.493 98.0382 155.471 98.2291C155.449 98.42 155.465 98.6109 155.52 98.8018C155.575 98.9927 155.678 99.17 155.831 99.3336C155.88 99.3827 155.943 99.44 156.019 99.5055C156.101 99.5709 156.196 99.6309 156.305 99.6855C156.42 99.74 156.548 99.7836 156.69 99.8164C156.837 99.8491 156.998 99.8573 157.173 99.8409C157.571 99.8191 157.994 99.6773 158.441 99.4155C158.894 99.1482 159.371 98.7827 159.873 98.3191L160.552 97.6973L161.591 98.8264Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M605.591 97.8264L604.945 98.4318C604.895 98.4864 604.781 98.6227 604.601 98.8409C604.421 99.0591 604.197 99.3427 603.93 99.6918C603.668 100.035 603.374 100.442 603.046 100.911C602.719 101.375 602.381 101.885 602.032 102.441C601.688 102.992 601.345 103.584 601.001 104.216C600.657 104.844 600.341 105.493 600.052 106.164L598.645 105.542C599.081 104.538 599.558 103.595 600.076 102.711C600.595 101.822 601.096 101.023 601.582 100.314C601.336 100.346 601.083 100.355 600.821 100.338C600.559 100.322 600.303 100.278 600.052 100.207C599.801 100.131 599.558 100.027 599.324 99.8964C599.095 99.76 598.887 99.5909 598.702 99.3891C598.391 99.0509 598.175 98.6855 598.055 98.2927C597.941 97.8945 597.903 97.5018 597.941 97.1145C597.979 96.7273 598.085 96.3591 598.26 96.01C598.435 95.6609 598.655 95.3582 598.923 95.1018C599.13 94.9164 599.345 94.7664 599.569 94.6518C599.798 94.5373 600.033 94.4445 600.273 94.3736C600.518 94.2973 600.764 94.2345 601.009 94.1855C601.26 94.1309 601.514 94.0764 601.77 94.0218L602.105 95.5273C601.915 95.56 601.715 95.5982 601.508 95.6418C601.301 95.68 601.102 95.7264 600.911 95.7809C600.72 95.8355 600.543 95.9009 600.379 95.9773C600.215 96.0482 600.082 96.1327 599.978 96.2309C599.842 96.3564 599.727 96.5064 599.635 96.6809C599.547 96.8555 599.493 97.0382 599.471 97.2291C599.449 97.42 599.465 97.6109 599.52 97.8018C599.575 97.9927 599.678 98.17 599.831 98.3336C599.88 98.3827 599.943 98.44 600.019 98.5055C600.101 98.5709 600.196 98.6309 600.305 98.6855C600.42 98.74 600.548 98.7836 600.69 98.8164C600.837 98.8491 600.998 98.8573 601.173 98.8409C601.571 98.8191 601.994 98.6773 602.441 98.4155C602.894 98.1482 603.371 97.7827 603.873 97.3191L604.552 96.6973L605.591 97.8264Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M543.533 200.654C543.565 200.675 543.672 200.763 543.852 200.915C544.037 201.063 544.269 201.265 544.547 201.521C544.831 201.777 545.147 202.08 545.496 202.429C545.845 202.778 546.2 203.165 546.56 203.591C546.92 204.011 547.269 204.464 547.607 204.949C547.951 205.435 548.256 205.942 548.524 206.471C548.791 206.995 549.004 207.535 549.162 208.091C549.325 208.647 549.407 209.209 549.407 209.776C549.407 210.131 549.375 210.447 549.309 210.725C549.244 210.998 549.159 211.241 549.055 211.454C548.952 211.661 548.835 211.841 548.704 211.994C548.578 212.141 548.455 212.264 548.335 212.362C548.161 212.509 547.984 212.626 547.804 212.714C547.629 212.795 547.46 212.858 547.296 212.902C547.138 212.945 546.994 212.973 546.863 212.984C546.737 212.995 546.639 213 546.568 213C545.766 213 545.12 212.76 544.629 212.28C544.542 212.373 544.438 212.463 544.318 212.55C544.204 212.637 544.067 212.716 543.909 212.787C543.756 212.853 543.585 212.907 543.394 212.951C543.203 212.995 542.993 213.016 542.764 213.016C542.224 213.016 541.741 212.899 541.315 212.665C540.89 212.425 540.544 212.084 540.276 211.642C540.156 211.44 540.061 211.241 539.99 211.045C539.919 210.843 539.865 210.657 539.826 210.488C539.794 210.314 539.772 210.161 539.761 210.03C539.755 209.899 539.753 209.804 539.753 209.744C539.753 209.231 539.815 208.726 539.941 208.23C540.066 207.728 540.23 207.245 540.432 206.782C540.634 206.313 540.863 205.865 541.119 205.44C541.381 205.015 541.645 204.619 541.913 204.254C542.18 203.888 542.439 203.558 542.69 203.264C542.946 202.969 543.173 202.721 543.369 202.519C543.14 202.317 542.955 202.159 542.813 202.045C542.676 201.93 542.603 201.873 542.592 201.873L543.533 200.654ZM547.354 211.175C547.692 210.892 547.861 210.425 547.861 209.776C547.861 209.4 547.812 209.024 547.714 208.647C547.615 208.265 547.482 207.889 547.313 207.518C547.149 207.147 546.955 206.785 546.732 206.43C546.508 206.07 546.271 205.724 546.02 205.391C545.769 205.058 545.51 204.742 545.243 204.442C544.981 204.136 544.725 203.853 544.474 203.591C544.305 203.771 544.108 203.989 543.885 204.245C543.661 204.502 543.432 204.788 543.197 205.105C542.963 205.421 542.731 205.765 542.502 206.135C542.278 206.501 542.076 206.883 541.896 207.281C541.716 207.674 541.572 208.08 541.463 208.5C541.354 208.915 541.299 209.329 541.299 209.744C541.299 209.798 541.305 209.869 541.315 209.956C541.326 210.038 541.343 210.131 541.365 210.235C541.386 210.333 541.416 210.436 541.455 210.545C541.493 210.649 541.539 210.75 541.594 210.848C541.73 211.055 541.888 211.211 542.068 211.315C542.254 211.418 542.485 211.47 542.764 211.47C542.998 211.47 543.173 211.437 543.287 211.372C543.407 211.306 543.497 211.241 543.557 211.175C543.672 211.039 543.754 210.87 543.803 210.668C543.852 210.461 543.882 210.254 543.893 210.046C543.904 209.839 543.901 209.645 543.885 209.465C543.868 209.28 543.852 209.141 543.835 209.048L545.357 208.762C545.363 208.8 545.374 208.876 545.39 208.991C545.406 209.105 545.42 209.247 545.431 209.416C545.442 209.58 545.445 209.765 545.439 209.973C545.439 210.175 545.42 210.387 545.382 210.611C545.398 210.655 545.417 210.712 545.439 210.783C545.466 210.854 545.502 210.927 545.545 211.004C545.758 211.304 546.099 211.454 546.568 211.454C546.677 211.454 546.803 211.435 546.945 211.396C547.092 211.353 547.228 211.279 547.354 211.175Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M182.533 106.654C182.565 106.675 182.672 106.763 182.852 106.915C183.037 107.063 183.269 107.265 183.547 107.521C183.831 107.777 184.147 108.08 184.496 108.429C184.845 108.778 185.2 109.165 185.56 109.591C185.92 110.011 186.269 110.464 186.607 110.949C186.951 111.435 187.256 111.942 187.524 112.471C187.791 112.995 188.004 113.535 188.162 114.091C188.325 114.647 188.407 115.209 188.407 115.776C188.407 116.131 188.375 116.447 188.309 116.725C188.244 116.998 188.159 117.241 188.055 117.454C187.952 117.661 187.835 117.841 187.704 117.994C187.578 118.141 187.455 118.264 187.335 118.362C187.161 118.509 186.984 118.626 186.804 118.714C186.629 118.795 186.46 118.858 186.296 118.902C186.138 118.945 185.994 118.973 185.863 118.984C185.737 118.995 185.639 119 185.568 119C184.766 119 184.12 118.76 183.629 118.28C183.542 118.373 183.438 118.463 183.318 118.55C183.204 118.637 183.067 118.716 182.909 118.787C182.756 118.853 182.585 118.907 182.394 118.951C182.203 118.995 181.993 119.016 181.764 119.016C181.224 119.016 180.741 118.899 180.315 118.665C179.89 118.425 179.544 118.084 179.276 117.642C179.156 117.44 179.061 117.241 178.99 117.045C178.919 116.843 178.865 116.657 178.826 116.488C178.794 116.314 178.772 116.161 178.761 116.03C178.755 115.899 178.753 115.804 178.753 115.744C178.753 115.231 178.815 114.726 178.941 114.23C179.066 113.728 179.23 113.245 179.432 112.782C179.634 112.313 179.863 111.865 180.119 111.44C180.381 111.015 180.645 110.619 180.913 110.254C181.18 109.888 181.439 109.558 181.69 109.264C181.946 108.969 182.173 108.721 182.369 108.519C182.14 108.317 181.955 108.159 181.813 108.045C181.676 107.93 181.603 107.873 181.592 107.873L182.533 106.654ZM186.354 117.175C186.692 116.892 186.861 116.425 186.861 115.776C186.861 115.4 186.812 115.024 186.714 114.647C186.615 114.265 186.482 113.889 186.313 113.518C186.149 113.147 185.955 112.785 185.732 112.43C185.508 112.07 185.271 111.724 185.02 111.391C184.769 111.058 184.51 110.742 184.243 110.442C183.981 110.136 183.725 109.853 183.474 109.591C183.305 109.771 183.108 109.989 182.885 110.245C182.661 110.502 182.432 110.788 182.197 111.105C181.963 111.421 181.731 111.765 181.502 112.135C181.278 112.501 181.076 112.883 180.896 113.281C180.716 113.674 180.572 114.08 180.463 114.5C180.354 114.915 180.299 115.329 180.299 115.744C180.299 115.798 180.305 115.869 180.315 115.956C180.326 116.038 180.343 116.131 180.365 116.235C180.386 116.333 180.416 116.436 180.455 116.545C180.493 116.649 180.539 116.75 180.594 116.848C180.73 117.055 180.888 117.211 181.068 117.315C181.254 117.418 181.485 117.47 181.764 117.47C181.998 117.47 182.173 117.437 182.287 117.372C182.407 117.306 182.497 117.241 182.557 117.175C182.672 117.039 182.754 116.87 182.803 116.668C182.852 116.461 182.882 116.254 182.893 116.046C182.904 115.839 182.901 115.645 182.885 115.465C182.868 115.28 182.852 115.141 182.835 115.048L184.357 114.762C184.363 114.8 184.374 114.876 184.39 114.991C184.406 115.105 184.42 115.247 184.431 115.416C184.442 115.58 184.445 115.765 184.439 115.973C184.439 116.175 184.42 116.387 184.382 116.611C184.398 116.655 184.417 116.712 184.439 116.783C184.466 116.854 184.502 116.927 184.545 117.004C184.758 117.304 185.099 117.454 185.568 117.454C185.677 117.454 185.803 117.435 185.945 117.396C186.092 117.353 186.228 117.279 186.354 117.175Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M213.533 200.654C213.565 200.675 213.672 200.763 213.852 200.915C214.037 201.063 214.269 201.265 214.547 201.521C214.831 201.777 215.147 202.08 215.496 202.429C215.845 202.778 216.2 203.165 216.56 203.591C216.92 204.011 217.269 204.464 217.607 204.949C217.951 205.435 218.256 205.942 218.524 206.471C218.791 206.995 219.004 207.535 219.162 208.091C219.325 208.647 219.407 209.209 219.407 209.776C219.407 210.131 219.375 210.447 219.309 210.725C219.244 210.998 219.159 211.241 219.055 211.454C218.952 211.661 218.835 211.841 218.704 211.994C218.578 212.141 218.455 212.264 218.335 212.362C218.161 212.509 217.984 212.626 217.804 212.714C217.629 212.795 217.46 212.858 217.296 212.902C217.138 212.945 216.994 212.973 216.863 212.984C216.737 212.995 216.639 213 216.568 213C215.766 213 215.12 212.76 214.629 212.28C214.542 212.373 214.438 212.463 214.318 212.55C214.204 212.637 214.067 212.716 213.909 212.787C213.756 212.853 213.585 212.907 213.394 212.951C213.203 212.995 212.993 213.016 212.764 213.016C212.224 213.016 211.741 212.899 211.315 212.665C210.89 212.425 210.544 212.084 210.276 211.642C210.156 211.44 210.061 211.241 209.99 211.045C209.919 210.843 209.865 210.657 209.826 210.488C209.794 210.314 209.772 210.161 209.761 210.03C209.755 209.899 209.753 209.804 209.753 209.744C209.753 209.231 209.815 208.726 209.941 208.23C210.066 207.728 210.23 207.245 210.432 206.782C210.634 206.313 210.863 205.865 211.119 205.44C211.381 205.015 211.645 204.619 211.913 204.254C212.18 203.888 212.439 203.558 212.69 203.264C212.946 202.969 213.173 202.721 213.369 202.519C213.14 202.317 212.955 202.159 212.813 202.045C212.676 201.93 212.603 201.873 212.592 201.873L213.533 200.654ZM217.354 211.175C217.692 210.892 217.861 210.425 217.861 209.776C217.861 209.4 217.812 209.024 217.714 208.647C217.615 208.265 217.482 207.889 217.313 207.518C217.149 207.147 216.955 206.785 216.732 206.43C216.508 206.07 216.271 205.724 216.02 205.391C215.769 205.058 215.51 204.742 215.243 204.442C214.981 204.136 214.725 203.853 214.474 203.591C214.305 203.771 214.108 203.989 213.885 204.245C213.661 204.502 213.432 204.788 213.197 205.105C212.963 205.421 212.731 205.765 212.502 206.135C212.278 206.501 212.076 206.883 211.896 207.281C211.716 207.674 211.572 208.08 211.463 208.5C211.354 208.915 211.299 209.329 211.299 209.744C211.299 209.798 211.305 209.869 211.315 209.956C211.326 210.038 211.343 210.131 211.365 210.235C211.386 210.333 211.416 210.436 211.455 210.545C211.493 210.649 211.539 210.75 211.594 210.848C211.73 211.055 211.888 211.211 212.068 211.315C212.254 211.418 212.485 211.47 212.764 211.47C212.998 211.47 213.173 211.437 213.287 211.372C213.407 211.306 213.497 211.241 213.557 211.175C213.672 211.039 213.754 210.87 213.803 210.668C213.852 210.461 213.882 210.254 213.893 210.046C213.904 209.839 213.901 209.645 213.885 209.465C213.868 209.28 213.852 209.141 213.835 209.048L215.357 208.762C215.363 208.8 215.374 208.876 215.39 208.991C215.406 209.105 215.42 209.247 215.431 209.416C215.442 209.58 215.445 209.765 215.439 209.973C215.439 210.175 215.42 210.387 215.382 210.611C215.398 210.655 215.417 210.712 215.439 210.783C215.466 210.854 215.502 210.927 215.545 211.004C215.758 211.304 216.099 211.454 216.568 211.454C216.677 211.454 216.803 211.435 216.945 211.396C217.092 211.353 217.228 211.279 217.354 211.175Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M573.533 106.654C573.565 106.675 573.672 106.763 573.852 106.915C574.037 107.063 574.269 107.265 574.547 107.521C574.831 107.777 575.147 108.08 575.496 108.429C575.845 108.778 576.2 109.165 576.56 109.591C576.92 110.011 577.269 110.464 577.607 110.949C577.951 111.435 578.256 111.942 578.524 112.471C578.791 112.995 579.004 113.535 579.162 114.091C579.325 114.647 579.407 115.209 579.407 115.776C579.407 116.131 579.375 116.447 579.309 116.725C579.244 116.998 579.159 117.241 579.055 117.454C578.952 117.661 578.835 117.841 578.704 117.994C578.578 118.141 578.455 118.264 578.335 118.362C578.161 118.509 577.984 118.626 577.804 118.714C577.629 118.795 577.46 118.858 577.296 118.902C577.138 118.945 576.994 118.973 576.863 118.984C576.737 118.995 576.639 119 576.568 119C575.766 119 575.12 118.76 574.629 118.28C574.542 118.373 574.438 118.463 574.318 118.55C574.204 118.637 574.067 118.716 573.909 118.787C573.756 118.853 573.585 118.907 573.394 118.951C573.203 118.995 572.993 119.016 572.764 119.016C572.224 119.016 571.741 118.899 571.315 118.665C570.89 118.425 570.544 118.084 570.276 117.642C570.156 117.44 570.061 117.241 569.99 117.045C569.919 116.843 569.865 116.657 569.826 116.488C569.794 116.314 569.772 116.161 569.761 116.03C569.755 115.899 569.753 115.804 569.753 115.744C569.753 115.231 569.815 114.726 569.941 114.23C570.066 113.728 570.23 113.245 570.432 112.782C570.634 112.313 570.863 111.865 571.119 111.44C571.381 111.015 571.645 110.619 571.913 110.254C572.18 109.888 572.439 109.558 572.69 109.264C572.946 108.969 573.173 108.721 573.369 108.519C573.14 108.317 572.955 108.159 572.813 108.045C572.676 107.93 572.603 107.873 572.592 107.873L573.533 106.654ZM577.354 117.175C577.692 116.892 577.861 116.425 577.861 115.776C577.861 115.4 577.812 115.024 577.714 114.647C577.615 114.265 577.482 113.889 577.313 113.518C577.149 113.147 576.955 112.785 576.732 112.43C576.508 112.07 576.271 111.724 576.02 111.391C575.769 111.058 575.51 110.742 575.243 110.442C574.981 110.136 574.725 109.853 574.474 109.591C574.305 109.771 574.108 109.989 573.885 110.245C573.661 110.502 573.432 110.788 573.197 111.105C572.963 111.421 572.731 111.765 572.502 112.135C572.278 112.501 572.076 112.883 571.896 113.281C571.716 113.674 571.572 114.08 571.463 114.5C571.354 114.915 571.299 115.329 571.299 115.744C571.299 115.798 571.305 115.869 571.315 115.956C571.326 116.038 571.343 116.131 571.365 116.235C571.386 116.333 571.416 116.436 571.455 116.545C571.493 116.649 571.539 116.75 571.594 116.848C571.73 117.055 571.888 117.211 572.068 117.315C572.254 117.418 572.485 117.47 572.764 117.47C572.998 117.47 573.173 117.437 573.287 117.372C573.407 117.306 573.497 117.241 573.557 117.175C573.672 117.039 573.754 116.87 573.803 116.668C573.852 116.461 573.882 116.254 573.893 116.046C573.904 115.839 573.901 115.645 573.885 115.465C573.868 115.28 573.852 115.141 573.835 115.048L575.357 114.762C575.363 114.8 575.374 114.876 575.39 114.991C575.406 115.105 575.42 115.247 575.431 115.416C575.442 115.58 575.445 115.765 575.439 115.973C575.439 116.175 575.42 116.387 575.382 116.611C575.398 116.655 575.417 116.712 575.439 116.783C575.466 116.854 575.502 116.927 575.545 117.004C575.758 117.304 576.099 117.454 576.568 117.454C576.677 117.454 576.803 117.435 576.945 117.396C577.092 117.353 577.228 117.279 577.354 117.175Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M216.712 123.052C216.385 123.117 215.973 123.183 215.476 123.248C214.98 123.308 214.437 123.338 213.848 123.338C213.537 123.338 213.221 123.327 212.899 123.305C212.577 123.278 212.258 123.235 211.942 123.175C211.631 123.109 211.323 123.027 211.017 122.929C210.717 122.831 210.431 122.708 210.158 122.561C210.213 123.117 210.256 123.657 210.289 124.181C210.322 124.705 210.344 125.206 210.355 125.686C210.365 126.161 210.371 126.611 210.371 127.036C210.371 127.462 210.368 127.852 210.363 128.206V129H208.825V128.206C208.83 127.688 208.83 127.124 208.825 126.513C208.825 125.902 208.805 125.255 208.767 124.574C208.735 123.886 208.677 123.172 208.595 122.43C208.514 121.688 208.396 120.93 208.244 120.155C208.167 119.714 208.075 119.283 207.965 118.863C207.856 118.437 207.728 118.004 207.581 117.562L209.07 117.087C209.19 117.491 209.299 117.905 209.397 118.331C209.495 118.756 209.613 119.234 209.749 119.763C209.82 120.041 209.907 120.273 210.011 120.458C210.115 120.638 210.235 120.791 210.371 120.916C210.513 121.036 210.668 121.137 210.837 121.219C211.012 121.295 211.2 121.366 211.402 121.432C211.298 121.225 211.216 120.99 211.156 120.728C211.096 120.461 211.066 120.164 211.066 119.836C211.066 119.373 211.156 118.958 211.336 118.593C211.516 118.222 211.751 117.908 212.04 117.652C212.329 117.39 212.656 117.191 213.022 117.055C213.387 116.913 213.755 116.842 214.126 116.842C214.405 116.842 214.664 116.877 214.904 116.948C215.149 117.014 215.384 117.101 215.607 117.21C215.831 117.314 216.052 117.434 216.27 117.57C216.488 117.706 216.709 117.84 216.933 117.971L216.164 119.305C215.995 119.201 215.82 119.095 215.64 118.985C215.465 118.876 215.291 118.778 215.116 118.691C214.942 118.604 214.77 118.533 214.601 118.478C214.432 118.418 214.274 118.388 214.126 118.388C213.946 118.388 213.761 118.421 213.57 118.486C213.379 118.552 213.205 118.647 213.046 118.773C212.894 118.898 212.768 119.051 212.67 119.231C212.572 119.405 212.523 119.607 212.523 119.836C212.523 120.147 212.58 120.417 212.695 120.646C212.809 120.87 212.962 121.053 213.153 121.195C213.355 121.347 213.597 121.462 213.881 121.538C214.165 121.609 214.456 121.653 214.756 121.669C215.062 121.685 215.365 121.68 215.665 121.653C215.965 121.625 216.232 121.59 216.466 121.546C216.663 121.514 216.837 121.475 216.99 121.432L217.366 122.921C217.355 122.932 217.293 122.951 217.178 122.978C217.064 123 216.908 123.025 216.712 123.052Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M250.712 216.052C250.385 216.117 249.973 216.183 249.476 216.248C248.98 216.308 248.437 216.338 247.848 216.338C247.537 216.338 247.221 216.327 246.899 216.305C246.577 216.278 246.258 216.235 245.942 216.175C245.631 216.109 245.323 216.027 245.017 215.929C244.717 215.831 244.431 215.708 244.158 215.561C244.213 216.117 244.256 216.657 244.289 217.181C244.322 217.705 244.344 218.206 244.355 218.686C244.365 219.161 244.371 219.611 244.371 220.036C244.371 220.462 244.368 220.852 244.363 221.206V222H242.825V221.206C242.83 220.688 242.83 220.124 242.825 219.513C242.825 218.902 242.805 218.255 242.767 217.574C242.735 216.886 242.677 216.172 242.595 215.43C242.514 214.688 242.396 213.93 242.244 213.155C242.167 212.714 242.075 212.283 241.965 211.863C241.856 211.437 241.728 211.004 241.581 210.562L243.07 210.087C243.19 210.491 243.299 210.905 243.397 211.331C243.495 211.756 243.613 212.234 243.749 212.763C243.82 213.041 243.907 213.273 244.011 213.458C244.115 213.638 244.235 213.791 244.371 213.916C244.513 214.036 244.668 214.137 244.837 214.219C245.012 214.295 245.2 214.366 245.402 214.432C245.298 214.225 245.216 213.99 245.156 213.728C245.096 213.461 245.066 213.164 245.066 212.836C245.066 212.373 245.156 211.958 245.336 211.593C245.516 211.222 245.751 210.908 246.04 210.652C246.329 210.39 246.656 210.191 247.022 210.055C247.387 209.913 247.755 209.842 248.126 209.842C248.405 209.842 248.664 209.877 248.904 209.948C249.149 210.014 249.384 210.101 249.607 210.21C249.831 210.314 250.052 210.434 250.27 210.57C250.488 210.706 250.709 210.84 250.933 210.971L250.164 212.305C249.995 212.201 249.82 212.095 249.64 211.985C249.465 211.876 249.291 211.778 249.116 211.691C248.942 211.604 248.77 211.533 248.601 211.478C248.432 211.418 248.274 211.388 248.126 211.388C247.946 211.388 247.761 211.421 247.57 211.486C247.379 211.552 247.205 211.647 247.046 211.773C246.894 211.898 246.768 212.051 246.67 212.231C246.572 212.405 246.523 212.607 246.523 212.836C246.523 213.147 246.58 213.417 246.695 213.646C246.809 213.87 246.962 214.053 247.153 214.195C247.355 214.347 247.597 214.462 247.881 214.538C248.165 214.609 248.456 214.653 248.756 214.669C249.062 214.685 249.365 214.68 249.665 214.653C249.965 214.625 250.232 214.59 250.466 214.546C250.663 214.514 250.837 214.475 250.99 214.432L251.366 215.921C251.355 215.932 251.293 215.951 251.178 215.978C251.064 216 250.908 216.025 250.712 216.052Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M515.712 216.052C515.385 216.117 514.973 216.183 514.476 216.248C513.98 216.308 513.437 216.338 512.848 216.338C512.537 216.338 512.221 216.327 511.899 216.305C511.577 216.278 511.258 216.235 510.942 216.175C510.631 216.109 510.323 216.027 510.017 215.929C509.717 215.831 509.431 215.708 509.158 215.561C509.213 216.117 509.256 216.657 509.289 217.181C509.322 217.705 509.344 218.206 509.355 218.686C509.365 219.161 509.371 219.611 509.371 220.036C509.371 220.462 509.368 220.852 509.363 221.206V222H507.825V221.206C507.83 220.688 507.83 220.124 507.825 219.513C507.825 218.902 507.805 218.255 507.767 217.574C507.735 216.886 507.677 216.172 507.595 215.43C507.514 214.688 507.396 213.93 507.244 213.155C507.167 212.714 507.075 212.283 506.965 211.863C506.856 211.437 506.728 211.004 506.581 210.562L508.07 210.087C508.19 210.491 508.299 210.905 508.397 211.331C508.495 211.756 508.613 212.234 508.749 212.763C508.82 213.041 508.907 213.273 509.011 213.458C509.115 213.638 509.235 213.791 509.371 213.916C509.513 214.036 509.668 214.137 509.837 214.219C510.012 214.295 510.2 214.366 510.402 214.432C510.298 214.225 510.216 213.99 510.156 213.728C510.096 213.461 510.066 213.164 510.066 212.836C510.066 212.373 510.156 211.958 510.336 211.593C510.516 211.222 510.751 210.908 511.04 210.652C511.329 210.39 511.656 210.191 512.022 210.055C512.387 209.913 512.755 209.842 513.126 209.842C513.405 209.842 513.664 209.877 513.904 209.948C514.149 210.014 514.384 210.101 514.607 210.21C514.831 210.314 515.052 210.434 515.27 210.57C515.488 210.706 515.709 210.84 515.933 210.971L515.164 212.305C514.995 212.201 514.82 212.095 514.64 211.985C514.465 211.876 514.291 211.778 514.116 211.691C513.942 211.604 513.77 211.533 513.601 211.478C513.432 211.418 513.274 211.388 513.126 211.388C512.946 211.388 512.761 211.421 512.57 211.486C512.379 211.552 512.205 211.647 512.046 211.773C511.894 211.898 511.768 212.051 511.67 212.231C511.572 212.405 511.523 212.607 511.523 212.836C511.523 213.147 511.58 213.417 511.695 213.646C511.809 213.87 511.962 214.053 512.153 214.195C512.355 214.347 512.597 214.462 512.881 214.538C513.165 214.609 513.456 214.653 513.756 214.669C514.062 214.685 514.365 214.68 514.665 214.653C514.965 214.625 515.232 214.59 515.466 214.546C515.663 214.514 515.837 214.475 515.99 214.432L516.366 215.921C516.355 215.932 516.293 215.951 516.178 215.978C516.064 216 515.908 216.025 515.712 216.052Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M549.712 123.052C549.385 123.117 548.973 123.183 548.476 123.248C547.98 123.308 547.437 123.338 546.848 123.338C546.537 123.338 546.221 123.327 545.899 123.305C545.577 123.278 545.258 123.235 544.942 123.175C544.631 123.109 544.323 123.027 544.017 122.929C543.717 122.831 543.431 122.708 543.158 122.561C543.213 123.117 543.256 123.657 543.289 124.181C543.322 124.705 543.344 125.206 543.355 125.686C543.365 126.161 543.371 126.611 543.371 127.036C543.371 127.462 543.368 127.852 543.363 128.206V129H541.825V128.206C541.83 127.688 541.83 127.124 541.825 126.513C541.825 125.902 541.805 125.255 541.767 124.574C541.735 123.886 541.677 123.172 541.595 122.43C541.514 121.688 541.396 120.93 541.244 120.155C541.167 119.714 541.075 119.283 540.965 118.863C540.856 118.437 540.728 118.004 540.581 117.562L542.07 117.087C542.19 117.491 542.299 117.905 542.397 118.331C542.495 118.756 542.613 119.234 542.749 119.763C542.82 120.041 542.907 120.273 543.011 120.458C543.115 120.638 543.235 120.791 543.371 120.916C543.513 121.036 543.668 121.137 543.837 121.219C544.012 121.295 544.2 121.366 544.402 121.432C544.298 121.225 544.216 120.99 544.156 120.728C544.096 120.461 544.066 120.164 544.066 119.836C544.066 119.373 544.156 118.958 544.336 118.593C544.516 118.222 544.751 117.908 545.04 117.652C545.329 117.39 545.656 117.191 546.022 117.055C546.387 116.913 546.755 116.842 547.126 116.842C547.405 116.842 547.664 116.877 547.904 116.948C548.149 117.014 548.384 117.101 548.607 117.21C548.831 117.314 549.052 117.434 549.27 117.57C549.488 117.706 549.709 117.84 549.933 117.971L549.164 119.305C548.995 119.201 548.82 119.095 548.64 118.985C548.465 118.876 548.291 118.778 548.116 118.691C547.942 118.604 547.77 118.533 547.601 118.478C547.432 118.418 547.274 118.388 547.126 118.388C546.946 118.388 546.761 118.421 546.57 118.486C546.379 118.552 546.205 118.647 546.046 118.773C545.894 118.898 545.768 119.051 545.67 119.231C545.572 119.405 545.523 119.607 545.523 119.836C545.523 120.147 545.58 120.417 545.695 120.646C545.809 120.87 545.962 121.053 546.153 121.195C546.355 121.347 546.597 121.462 546.881 121.538C547.165 121.609 547.456 121.653 547.756 121.669C548.062 121.685 548.365 121.68 548.665 121.653C548.965 121.625 549.232 121.59 549.466 121.546C549.663 121.514 549.837 121.475 549.99 121.432L550.366 122.921C550.355 122.932 550.293 122.951 550.178 122.978C550.064 123 549.908 123.025 549.712 123.052Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M484.432 217.095C484.437 217.117 484.465 217.221 484.514 217.406C484.568 217.586 484.625 217.813 484.685 218.085C484.745 218.353 484.8 218.642 484.849 218.953C484.898 219.264 484.923 219.555 484.923 219.828C484.923 220.221 484.882 220.6 484.8 220.965C484.724 221.331 484.595 221.655 484.415 221.939C484.235 222.223 483.998 222.449 483.704 222.618C483.409 222.787 483.044 222.872 482.607 222.872C482.438 222.872 482.258 222.855 482.067 222.823C481.876 222.785 481.683 222.722 481.486 222.635C481.295 222.542 481.107 222.416 480.922 222.258C480.736 222.1 480.565 221.898 480.406 221.653C480.286 221.844 480.155 222.007 480.014 222.144C479.872 222.28 479.725 222.395 479.572 222.487C479.419 222.58 479.264 222.656 479.105 222.716C478.953 222.776 478.803 222.823 478.655 222.855C478.394 222.915 478.132 222.929 477.87 222.896C477.608 222.858 477.36 222.776 477.125 222.651C477.18 223.196 477.218 223.725 477.24 224.238C477.267 224.751 477.286 225.242 477.297 225.711C477.308 226.175 477.314 226.614 477.314 227.028C477.314 227.437 477.314 227.816 477.314 228.165V228.992H475.775V228.165C475.775 227.756 475.773 227.287 475.767 226.758C475.767 226.224 475.754 225.656 475.726 225.056C475.699 224.451 475.658 223.824 475.604 223.175C475.555 222.525 475.484 221.876 475.391 221.227C475.298 220.578 475.181 219.943 475.039 219.321C474.897 218.694 474.728 218.105 474.532 217.554L475.996 217.079C476.051 217.265 476.103 217.439 476.152 217.603C476.201 217.766 476.247 217.935 476.291 218.11C476.34 218.279 476.386 218.456 476.43 218.642C476.479 218.827 476.531 219.035 476.585 219.264C476.645 219.509 476.722 219.76 476.815 220.016C476.913 220.273 477.033 220.505 477.175 220.712C477.316 220.919 477.483 221.085 477.674 221.211C477.865 221.331 478.085 221.377 478.336 221.35C478.549 221.328 478.735 221.252 478.893 221.121C479.056 220.99 479.185 220.775 479.277 220.475C479.37 220.175 479.425 219.776 479.441 219.28C479.463 218.784 479.438 218.156 479.367 217.398L480.889 217.251C480.955 217.916 481.028 218.503 481.11 219.01C481.197 219.517 481.306 219.943 481.437 220.286C481.568 220.63 481.726 220.892 481.912 221.072C482.103 221.246 482.335 221.334 482.607 221.334C482.782 221.334 482.924 221.298 483.033 221.227C483.142 221.156 483.224 221.055 483.278 220.925C483.338 220.794 483.374 220.635 483.385 220.45C483.401 220.265 483.404 220.057 483.393 219.828C483.382 219.615 483.357 219.395 483.319 219.165C483.286 218.936 483.245 218.718 483.196 218.511C483.153 218.298 483.109 218.107 483.065 217.938C483.022 217.764 482.986 217.627 482.959 217.529L484.432 217.095Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M253.432 127.095C253.437 127.117 253.465 127.221 253.514 127.406C253.568 127.586 253.625 127.813 253.685 128.085C253.745 128.353 253.8 128.642 253.849 128.953C253.898 129.264 253.923 129.555 253.923 129.828C253.923 130.221 253.882 130.6 253.8 130.965C253.724 131.331 253.595 131.655 253.415 131.939C253.235 132.223 252.998 132.449 252.704 132.618C252.409 132.787 252.044 132.872 251.607 132.872C251.438 132.872 251.258 132.855 251.067 132.823C250.876 132.785 250.683 132.722 250.486 132.635C250.295 132.542 250.107 132.416 249.922 132.258C249.736 132.1 249.565 131.898 249.406 131.653C249.286 131.844 249.155 132.007 249.014 132.144C248.872 132.28 248.725 132.395 248.572 132.487C248.419 132.58 248.264 132.656 248.105 132.716C247.953 132.776 247.803 132.823 247.655 132.855C247.394 132.915 247.132 132.929 246.87 132.896C246.608 132.858 246.36 132.776 246.125 132.651C246.18 133.196 246.218 133.725 246.24 134.238C246.267 134.751 246.286 135.242 246.297 135.711C246.308 136.175 246.314 136.614 246.314 137.028C246.314 137.437 246.314 137.816 246.314 138.165V138.992H244.775V138.165C244.775 137.756 244.773 137.287 244.767 136.758C244.767 136.224 244.754 135.656 244.726 135.056C244.699 134.451 244.658 133.824 244.604 133.175C244.555 132.525 244.484 131.876 244.391 131.227C244.298 130.578 244.181 129.943 244.039 129.321C243.897 128.694 243.728 128.105 243.532 127.554L244.996 127.079C245.051 127.265 245.103 127.439 245.152 127.603C245.201 127.766 245.247 127.935 245.291 128.11C245.34 128.279 245.386 128.456 245.43 128.642C245.479 128.827 245.531 129.035 245.585 129.264C245.645 129.509 245.722 129.76 245.815 130.016C245.913 130.273 246.033 130.505 246.175 130.712C246.316 130.919 246.483 131.085 246.674 131.211C246.865 131.331 247.085 131.377 247.336 131.35C247.549 131.328 247.735 131.252 247.893 131.121C248.056 130.99 248.185 130.775 248.277 130.475C248.37 130.175 248.425 129.776 248.441 129.28C248.463 128.784 248.438 128.156 248.367 127.398L249.889 127.251C249.955 127.916 250.028 128.503 250.11 129.01C250.197 129.517 250.306 129.943 250.437 130.286C250.568 130.63 250.726 130.892 250.912 131.072C251.103 131.246 251.335 131.334 251.607 131.334C251.782 131.334 251.924 131.298 252.033 131.227C252.142 131.156 252.224 131.055 252.278 130.925C252.338 130.794 252.374 130.635 252.385 130.45C252.401 130.265 252.404 130.057 252.393 129.828C252.382 129.615 252.357 129.395 252.319 129.165C252.286 128.936 252.245 128.718 252.196 128.511C252.153 128.298 252.109 128.107 252.065 127.938C252.022 127.764 251.986 127.627 251.959 127.529L253.432 127.095Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M284.432 217.095C284.437 217.117 284.465 217.221 284.514 217.406C284.568 217.586 284.625 217.813 284.685 218.085C284.745 218.353 284.8 218.642 284.849 218.953C284.898 219.264 284.923 219.555 284.923 219.828C284.923 220.221 284.882 220.6 284.8 220.965C284.724 221.331 284.595 221.655 284.415 221.939C284.235 222.223 283.998 222.449 283.704 222.618C283.409 222.787 283.044 222.872 282.607 222.872C282.438 222.872 282.258 222.855 282.067 222.823C281.876 222.785 281.683 222.722 281.486 222.635C281.295 222.542 281.107 222.416 280.922 222.258C280.736 222.1 280.565 221.898 280.406 221.653C280.286 221.844 280.155 222.007 280.014 222.144C279.872 222.28 279.725 222.395 279.572 222.487C279.419 222.58 279.264 222.656 279.105 222.716C278.953 222.776 278.803 222.823 278.655 222.855C278.394 222.915 278.132 222.929 277.87 222.896C277.608 222.858 277.36 222.776 277.125 222.651C277.18 223.196 277.218 223.725 277.24 224.238C277.267 224.751 277.286 225.242 277.297 225.711C277.308 226.175 277.314 226.614 277.314 227.028C277.314 227.437 277.314 227.816 277.314 228.165V228.992H275.775V228.165C275.775 227.756 275.773 227.287 275.767 226.758C275.767 226.224 275.754 225.656 275.726 225.056C275.699 224.451 275.658 223.824 275.604 223.175C275.555 222.525 275.484 221.876 275.391 221.227C275.298 220.578 275.181 219.943 275.039 219.321C274.897 218.694 274.728 218.105 274.532 217.554L275.996 217.079C276.051 217.265 276.103 217.439 276.152 217.603C276.201 217.766 276.247 217.935 276.291 218.11C276.34 218.279 276.386 218.456 276.43 218.642C276.479 218.827 276.531 219.035 276.585 219.264C276.645 219.509 276.722 219.76 276.815 220.016C276.913 220.273 277.033 220.505 277.175 220.712C277.316 220.919 277.483 221.085 277.674 221.211C277.865 221.331 278.085 221.377 278.336 221.35C278.549 221.328 278.735 221.252 278.893 221.121C279.056 220.99 279.185 220.775 279.277 220.475C279.37 220.175 279.425 219.776 279.441 219.28C279.463 218.784 279.438 218.156 279.367 217.398L280.889 217.251C280.955 217.916 281.028 218.503 281.11 219.01C281.197 219.517 281.306 219.943 281.437 220.286C281.568 220.63 281.726 220.892 281.912 221.072C282.103 221.246 282.335 221.334 282.607 221.334C282.782 221.334 282.924 221.298 283.033 221.227C283.142 221.156 283.224 221.055 283.278 220.925C283.338 220.794 283.374 220.635 283.385 220.45C283.401 220.265 283.404 220.057 283.393 219.828C283.382 219.615 283.357 219.395 283.319 219.165C283.286 218.936 283.245 218.718 283.196 218.511C283.153 218.298 283.109 218.107 283.065 217.938C283.022 217.764 282.986 217.627 282.959 217.529L284.432 217.095Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M514.432 127.095C514.437 127.117 514.465 127.221 514.514 127.406C514.568 127.586 514.625 127.813 514.685 128.085C514.745 128.353 514.8 128.642 514.849 128.953C514.898 129.264 514.923 129.555 514.923 129.828C514.923 130.221 514.882 130.6 514.8 130.965C514.724 131.331 514.595 131.655 514.415 131.939C514.235 132.223 513.998 132.449 513.704 132.618C513.409 132.787 513.044 132.872 512.607 132.872C512.438 132.872 512.258 132.855 512.067 132.823C511.876 132.785 511.683 132.722 511.486 132.635C511.295 132.542 511.107 132.416 510.922 132.258C510.736 132.1 510.565 131.898 510.406 131.653C510.286 131.844 510.155 132.007 510.014 132.144C509.872 132.28 509.725 132.395 509.572 132.487C509.419 132.58 509.264 132.656 509.105 132.716C508.953 132.776 508.803 132.823 508.655 132.855C508.394 132.915 508.132 132.929 507.87 132.896C507.608 132.858 507.36 132.776 507.125 132.651C507.18 133.196 507.218 133.725 507.24 134.238C507.267 134.751 507.286 135.242 507.297 135.711C507.308 136.175 507.314 136.614 507.314 137.028C507.314 137.437 507.314 137.816 507.314 138.165V138.992H505.775V138.165C505.775 137.756 505.773 137.287 505.767 136.758C505.767 136.224 505.754 135.656 505.726 135.056C505.699 134.451 505.658 133.824 505.604 133.175C505.555 132.525 505.484 131.876 505.391 131.227C505.298 130.578 505.181 129.943 505.039 129.321C504.897 128.694 504.728 128.105 504.532 127.554L505.996 127.079C506.051 127.265 506.103 127.439 506.152 127.603C506.201 127.766 506.247 127.935 506.291 128.11C506.34 128.279 506.386 128.456 506.43 128.642C506.479 128.827 506.531 129.035 506.585 129.264C506.645 129.509 506.722 129.76 506.815 130.016C506.913 130.273 507.033 130.505 507.175 130.712C507.316 130.919 507.483 131.085 507.674 131.211C507.865 131.331 508.085 131.377 508.336 131.35C508.549 131.328 508.735 131.252 508.893 131.121C509.056 130.99 509.185 130.775 509.277 130.475C509.37 130.175 509.425 129.776 509.441 129.28C509.463 128.784 509.438 128.156 509.367 127.398L510.889 127.251C510.955 127.916 511.028 128.503 511.11 129.01C511.197 129.517 511.306 129.943 511.437 130.286C511.568 130.63 511.726 130.892 511.912 131.072C512.103 131.246 512.335 131.334 512.607 131.334C512.782 131.334 512.924 131.298 513.033 131.227C513.142 131.156 513.224 131.055 513.278 130.925C513.338 130.794 513.374 130.635 513.385 130.45C513.401 130.265 513.404 130.057 513.393 129.828C513.382 129.615 513.357 129.395 513.319 129.165C513.286 128.936 513.245 128.718 513.196 128.511C513.153 128.298 513.109 128.107 513.065 127.938C513.022 127.764 512.986 127.627 512.959 127.529L514.432 127.095Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M319.01 223.095C319.026 223.139 319.062 223.256 319.116 223.447C319.171 223.638 319.228 223.867 319.288 224.135C319.348 224.402 319.4 224.688 319.444 224.994C319.493 225.294 319.517 225.577 319.517 225.845C319.517 226.368 319.433 226.821 319.264 227.203C319.095 227.585 318.874 227.901 318.601 228.152C318.328 228.397 318.02 228.583 317.676 228.708C317.333 228.828 316.986 228.888 316.637 228.888C316.195 228.888 315.795 228.817 315.435 228.675C315.075 228.534 314.747 228.354 314.453 228.135C314.524 228.741 314.575 229.327 314.608 229.895C314.646 230.456 314.674 230.996 314.69 231.515C314.706 232.027 314.715 232.51 314.715 232.963C314.715 233.415 314.715 233.833 314.715 234.215C314.704 234.356 314.698 234.493 314.698 234.624C314.698 234.755 314.698 234.883 314.698 235.008H313.176V234.215C313.182 233.555 313.179 232.818 313.168 232.005C313.157 231.193 313.114 230.331 313.037 229.42C312.961 228.509 312.835 227.56 312.661 226.573C312.492 225.58 312.249 224.579 311.933 223.57L313.397 223.095L313.716 224.167C313.716 224.173 313.741 224.257 313.79 224.421C313.839 224.579 313.915 224.775 314.019 225.01C314.123 225.245 314.254 225.498 314.412 225.771C314.575 226.044 314.764 226.297 314.976 226.532C315.195 226.766 315.44 226.963 315.713 227.121C315.991 227.274 316.299 227.35 316.637 227.35C316.714 227.35 316.825 227.336 316.973 227.309C317.125 227.282 317.278 227.219 317.431 227.121C317.584 227.017 317.715 226.867 317.824 226.671C317.938 226.469 317.995 226.194 317.995 225.845C317.995 225.665 317.976 225.463 317.938 225.239C317.905 225.015 317.865 224.797 317.815 224.585C317.766 224.372 317.715 224.175 317.66 223.995C317.611 223.81 317.57 223.668 317.537 223.57L319.01 223.095Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M292.01 135.095C292.026 135.139 292.062 135.256 292.116 135.447C292.171 135.638 292.228 135.867 292.288 136.135C292.348 136.402 292.4 136.688 292.444 136.994C292.493 137.294 292.517 137.577 292.517 137.845C292.517 138.368 292.433 138.821 292.264 139.203C292.095 139.585 291.874 139.901 291.601 140.152C291.328 140.397 291.02 140.583 290.676 140.708C290.333 140.828 289.986 140.888 289.637 140.888C289.195 140.888 288.795 140.817 288.435 140.675C288.075 140.534 287.747 140.354 287.453 140.135C287.524 140.741 287.575 141.327 287.608 141.895C287.646 142.456 287.674 142.996 287.69 143.515C287.706 144.027 287.715 144.51 287.715 144.963C287.715 145.415 287.715 145.833 287.715 146.215C287.704 146.356 287.698 146.493 287.698 146.624C287.698 146.755 287.698 146.883 287.698 147.008H286.176V146.215C286.182 145.555 286.179 144.818 286.168 144.005C286.157 143.193 286.114 142.331 286.037 141.42C285.961 140.509 285.835 139.56 285.661 138.573C285.492 137.58 285.249 136.579 284.933 135.57L286.397 135.095L286.716 136.167C286.716 136.173 286.741 136.257 286.79 136.421C286.839 136.579 286.915 136.775 287.019 137.01C287.123 137.245 287.254 137.498 287.412 137.771C287.575 138.044 287.764 138.297 287.976 138.532C288.195 138.766 288.44 138.963 288.713 139.121C288.991 139.274 289.299 139.35 289.637 139.35C289.714 139.35 289.825 139.336 289.973 139.309C290.125 139.282 290.278 139.219 290.431 139.121C290.584 139.017 290.715 138.867 290.824 138.671C290.938 138.469 290.995 138.194 290.995 137.845C290.995 137.665 290.976 137.463 290.938 137.239C290.905 137.015 290.865 136.797 290.815 136.585C290.766 136.372 290.715 136.175 290.66 135.995C290.611 135.81 290.57 135.668 290.537 135.57L292.01 135.095Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M446.01 222.095C446.026 222.139 446.062 222.256 446.116 222.447C446.171 222.638 446.228 222.867 446.288 223.135C446.348 223.402 446.4 223.688 446.444 223.994C446.493 224.294 446.517 224.577 446.517 224.845C446.517 225.368 446.433 225.821 446.264 226.203C446.095 226.585 445.874 226.901 445.601 227.152C445.328 227.397 445.02 227.583 444.676 227.708C444.333 227.828 443.986 227.888 443.637 227.888C443.195 227.888 442.795 227.817 442.435 227.675C442.075 227.534 441.747 227.354 441.453 227.135C441.524 227.741 441.575 228.327 441.608 228.895C441.646 229.456 441.674 229.996 441.69 230.515C441.706 231.027 441.715 231.51 441.715 231.963C441.715 232.415 441.715 232.833 441.715 233.215C441.704 233.356 441.698 233.493 441.698 233.624C441.698 233.755 441.698 233.883 441.698 234.008H440.176V233.215C440.182 232.555 440.179 231.818 440.168 231.005C440.157 230.193 440.114 229.331 440.037 228.42C439.961 227.509 439.835 226.56 439.661 225.573C439.492 224.58 439.249 223.579 438.933 222.57L440.397 222.095L440.716 223.167C440.716 223.173 440.741 223.257 440.79 223.421C440.839 223.579 440.915 223.775 441.019 224.01C441.123 224.245 441.254 224.498 441.412 224.771C441.575 225.044 441.764 225.297 441.976 225.532C442.195 225.766 442.44 225.963 442.713 226.121C442.991 226.274 443.299 226.35 443.637 226.35C443.714 226.35 443.825 226.336 443.973 226.309C444.125 226.282 444.278 226.219 444.431 226.121C444.584 226.017 444.715 225.867 444.824 225.671C444.938 225.469 444.995 225.194 444.995 224.845C444.995 224.665 444.976 224.463 444.938 224.239C444.905 224.015 444.865 223.797 444.815 223.585C444.766 223.372 444.715 223.175 444.66 222.995C444.611 222.81 444.57 222.668 444.537 222.57L446.01 222.095Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M472.01 135.095C472.026 135.139 472.062 135.256 472.116 135.447C472.171 135.638 472.228 135.867 472.288 136.135C472.348 136.402 472.4 136.688 472.444 136.994C472.493 137.294 472.517 137.577 472.517 137.845C472.517 138.368 472.433 138.821 472.264 139.203C472.095 139.585 471.874 139.901 471.601 140.152C471.328 140.397 471.02 140.583 470.676 140.708C470.333 140.828 469.986 140.888 469.637 140.888C469.195 140.888 468.795 140.817 468.435 140.675C468.075 140.534 467.747 140.354 467.453 140.135C467.524 140.741 467.575 141.327 467.608 141.895C467.646 142.456 467.674 142.996 467.69 143.515C467.706 144.027 467.715 144.51 467.715 144.963C467.715 145.415 467.715 145.833 467.715 146.215C467.704 146.356 467.698 146.493 467.698 146.624C467.698 146.755 467.698 146.883 467.698 147.008H466.176V146.215C466.182 145.555 466.179 144.818 466.168 144.005C466.157 143.193 466.114 142.331 466.037 141.42C465.961 140.509 465.835 139.56 465.661 138.573C465.492 137.58 465.249 136.579 464.933 135.57L466.397 135.095L466.716 136.167C466.716 136.173 466.741 136.257 466.79 136.421C466.839 136.579 466.915 136.775 467.019 137.01C467.123 137.245 467.254 137.498 467.412 137.771C467.575 138.044 467.764 138.297 467.976 138.532C468.195 138.766 468.44 138.963 468.713 139.121C468.991 139.274 469.299 139.35 469.637 139.35C469.714 139.35 469.825 139.336 469.973 139.309C470.125 139.282 470.278 139.219 470.431 139.121C470.584 139.017 470.715 138.867 470.824 138.671C470.938 138.469 470.995 138.194 470.995 137.845C470.995 137.665 470.976 137.463 470.938 137.239C470.905 137.015 470.865 136.797 470.815 136.585C470.766 136.372 470.715 136.175 470.66 135.995C470.611 135.81 470.57 135.668 470.537 135.57L472.01 135.095Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M356.095 238.992C356.095 238.801 356.095 238.605 356.095 238.403C356.095 238.195 356.1 237.983 356.111 237.765C356.122 237.132 356.127 236.425 356.127 235.645C356.127 234.86 356.095 234.028 356.029 233.15C355.969 232.272 355.86 231.361 355.702 230.417C355.549 229.468 355.323 228.514 355.023 227.554L356.487 227.079C356.809 228.099 357.052 229.108 357.215 230.106C357.385 231.099 357.502 232.056 357.567 232.978C357.638 233.895 357.674 234.762 357.674 235.58C357.674 236.393 357.668 237.129 357.657 237.789C357.646 238.007 357.641 238.217 357.641 238.419C357.641 238.621 357.641 238.812 357.641 238.992H356.095Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M344.095 153.992C344.095 153.801 344.095 153.605 344.095 153.403C344.095 153.195 344.1 152.983 344.111 152.765C344.122 152.132 344.127 151.425 344.127 150.645C344.127 149.86 344.095 149.028 344.029 148.15C343.969 147.272 343.86 146.361 343.702 145.417C343.549 144.468 343.323 143.514 343.023 142.554L344.487 142.079C344.809 143.099 345.052 144.108 345.215 145.106C345.385 146.099 345.502 147.056 345.567 147.978C345.638 148.895 345.674 149.762 345.674 150.58C345.674 151.393 345.668 152.129 345.657 152.789C345.646 153.007 345.641 153.217 345.641 153.419C345.641 153.621 345.641 153.812 345.641 153.992H344.095Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M401.095 238.992C401.095 238.801 401.095 238.605 401.095 238.403C401.095 238.195 401.1 237.983 401.111 237.765C401.122 237.132 401.127 236.425 401.127 235.645C401.127 234.86 401.095 234.028 401.029 233.15C400.969 232.272 400.86 231.361 400.702 230.417C400.549 229.468 400.323 228.514 400.023 227.554L401.487 227.079C401.809 228.099 402.052 229.108 402.215 230.106C402.385 231.099 402.502 232.056 402.567 232.978C402.638 233.895 402.674 234.762 402.674 235.58C402.674 236.393 402.668 237.129 402.657 237.789C402.646 238.007 402.641 238.217 402.641 238.419C402.641 238.621 402.641 238.812 402.641 238.992H401.095Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" d="M413.095 153.992C413.095 153.801 413.095 153.605 413.095 153.403C413.095 153.195 413.1 152.983 413.111 152.765C413.122 152.132 413.127 151.425 413.127 150.645C413.127 149.86 413.095 149.028 413.029 148.15C412.969 147.272 412.86 146.361 412.702 145.417C412.549 144.468 412.323 143.514 412.023 142.554L413.487 142.079C413.809 143.099 414.052 144.108 414.215 145.106C414.385 146.099 414.502 147.056 414.567 147.978C414.638 148.895 414.674 149.762 414.674 150.58C414.674 151.393 414.668 152.129 414.657 152.789C414.646 153.007 414.641 153.217 414.641 153.419C414.641 153.621 414.641 153.812 414.641 153.992H413.095Z" class="tpt__tooth-svg-number" style="pointer-events: none;"></path>
            <path data-v-5fa3668e="" fill-rule="evenodd" clip-rule="evenodd" d="M378.247 302.863C378.247 302.863 378.681 301.795 326.339 302.863C273.997 303.931 216.2 283.051 191.379 263.2C166.558 243.349 127.479 182.966 107.379 143.377C87.279 103.788 43.331 56.06 39.431 51.4C35.531 46.74 36.471 41.8 41.319 42.962C46.167 44.124 75.019 53.932 101.719 53.932C128.419 53.932 143.468 32 247.062 32C338.923 32 368.815 56.471 368.815 56.471C368.815 56.471 379.926 62.655 388.829 56.471C388.829 56.471 425.336 31.998 510.502 31.998C614.034 32 629.07 53.937 655.756 53.937C682.442 53.937 711.277 44.125 716.122 42.966C720.967 41.807 721.906 46.748 718.008 51.405C714.11 56.062 670.177 103.8 650.1 143.391C630.023 182.982 590.963 243.377 566.155 263.226C541.347 283.075 483.586 303.958 431.276 302.89C378.966 301.822 379.4 302.89 379.4 302.89C379.02 302.982 378.622 302.973 378.247 302.863ZM111.745 110.98C104.282 89.644 114.745 76.406 114.745 76.406C114.745 76.406 120.461 70.286 134.757 74.417C149.053 78.548 158.648 83.947 180.785 90.341C202.922 96.735 259.614 105.089 273.841 106.255C289.362 107.528 358.786 112.686 378.904 109.98C379.237 109.948 379.571 109.948 379.904 109.98C400.022 112.686 470.447 107.528 485.968 106.255C500.195 105.089 556.887 96.735 579.024 90.341C601.161 83.947 610.756 78.547 625.052 74.417C639.348 70.287 645.064 76.406 645.064 76.406C653.415 85.76 647.064 104.981 647.064 104.981C647.064 104.981 626.594 166.801 611.042 184.965C595.49 203.129 575.092 222.288 528 232.956C480.908 243.624 414.591 258.956 379.911 258.956H377.911C343.231 258.956 275.916 243.629 228.821 232.956C181.726 222.283 161.321 203.129 145.771 184.965C136.256 173.853 124.901 146.399 117.518 126.759C112.829 114.3 113.4 115.7 111.745 110.98Z" fill="#DF3F3B"></path>
            <path data-v-5fa3668e="" fill-rule="evenodd" clip-rule="evenodd" d="M378 327.906C378 327.906 378.46 326.641 322.934 327.906C267.408 329.171 206.093 304.434 179.76 280.92C153.427 257.406 111.967 185.863 90.653 138.961C69.339 92.059 22.7 35.51 18.566 29.993C14.432 24.476 15.426 18.623 20.566 19.993C25.706 21.363 56.316 32.993 84.643 32.993C112.97 32.993 128.933 7 238.831 7C336.283 7 367.993 35.992 367.993 35.992C367.993 35.992 379.781 43.318 389.225 35.992C389.225 35.994 427.954 7 518.3 7C628.135 7 644.086 32.995 672.4 32.995C700.714 32.995 731.3 21.37 736.439 19.995C741.578 18.62 742.575 24.476 738.439 29.995C734.303 35.514 687.697 92.067 666.395 138.974C645.093 185.881 603.659 257.431 577.342 280.947C551.025 304.463 489.748 329.203 434.255 327.937C378.762 326.671 379.222 327.937 379.222 327.937C378.82 328.046 378.396 328.036 378 327.906V327.906ZM103.825 104.454C96.125 81.168 106.925 66.721 106.925 66.721C106.925 66.721 112.825 60.042 127.567 64.55C142.309 69.058 152.21 74.95 175.044 81.93C197.878 88.91 256.355 98.03 271.03 99.298C287.04 100.687 358.65 106.316 379.401 103.363C379.744 103.329 380.09 103.329 380.433 103.363C401.185 106.316 473.826 100.687 489.833 99.298C504.509 98.025 562.985 88.908 585.819 81.93C608.653 74.952 618.55 69.058 633.296 64.55C648.042 60.042 653.938 66.721 653.938 66.721C662.55 76.93 656 97.907 656 97.907C656 97.907 634.885 165.378 618.845 185.207C602.805 205.036 581.758 225.94 533.18 237.584C484.602 249.228 416.2 265.95 380.429 265.95H378.365C342.593 265.95 273.159 249.222 224.581 237.579C176.003 225.936 154.957 205.026 138.917 185.202C129.103 173.073 117.39 143.111 109.775 121.676C104.943 108.075 105.527 109.6 103.825 104.454Z" fill="#EE534F"></path>

      </svg>
          <p class="muted">برای انتخاب هر دندان روی آن کلیک کنید.</p>
        </div>

        <div class="treatment-details">
          <h4>دندان‌های انتخاب شده</h4>
          <div class="selected-teeth" *ngIf="selectedTreatmentTeeth.length; else noSelectedTeeth">
            <span class="tooth-chip" *ngFor="let tooth of selectedTreatmentTeeth">
              {{ tooth.archLabel }} {{ getPersianNumber(tooth.label) }}
            </span>
          </div>
          <ng-template #noSelectedTeeth>
            <p class="muted">هنوز دندانی انتخاب نشده است.</p>
          </ng-template>

          <div class="treatment-services">
            <h5>خدمات هر دندان</h5>
            <div *ngIf="selectedTreatmentTeeth.length; else noServices">
              <div class="service-row" *ngFor="let tooth of selectedTreatmentTeeth">
                <span class="service-tooth">{{ tooth.archLabel }} {{ getPersianNumber(tooth.label) }}</span>
                <select [ngModel]="getToothService(tooth.id).serviceValue"
                        (ngModelChange)="updateToothService(tooth.id, $event)">
                  <option *ngFor="let service of treatmentServiceOptions" [ngValue]="service.value">
                    {{ service.label }}
                  </option>
                </select>
                <input type="number"
                       min="0"
                       [ngModel]="getToothService(tooth.id).price"
                       (ngModelChange)="updateToothPrice(tooth.id, $event)"
                       placeholder="قیمت (تومان)" />
              </div>
            </div>
            <ng-template #noServices>
              <p class="muted">برای ثبت خدمات ابتدا دندان انتخاب کنید.</p>
            </ng-template>
          </div>

          <div class="treatment-summary">
            <div class="summary-row">
              <span>جمع کل طرح درمان</span>
              <strong>{{ formatPrice(treatmentTotal) }} تومان</strong>
            </div>
            <label>
              پیش پرداخت
              <input type="number"
                     min="0"
                     [ngModel]="treatmentPrepaymentAmount"
                     (ngModelChange)="updatePrepaymentAmount($event)"
                     placeholder="مبلغ پیش پرداخت (تومان)" />
            </label>
            <div class="summary-row">
              <span>مانده پس از پیش پرداخت</span>
              <strong>{{ formatPrice(remainingBalance) }} تومان</strong>
            </div>
            <label>
              طرح اقساطی
              <select [ngModel]="selectedInstallmentMonths"
                      (ngModelChange)="updateInstallmentPlan($event)">
                <option *ngFor="let plan of installmentPlanOptions" [ngValue]="plan.months">
                  {{ plan.label }}
                </option>
              </select>
            </label>
            <div class="summary-row">
              <span>مبلغ هر قسط</span>
              <strong>{{ formatPrice(installmentMonthlyPayment) }} تومان</strong>
            </div>
            <div class="treatment-checks">
              <h5>ثبت چک‌ها</h5>
              <div class="check-grid check-form">
                <label class="date-picker-field">
                  تاریخ چک
                  <input
                    type="text"
                    placeholder="مثال: 1403/01/01"
                    [(ngModel)]="newChequeDate"
                    (blur)="newChequeDate = normalizeDateInput(newChequeDate)"
                    (click)="openDatePicker('cheque', newChequeDate); $event.stopPropagation()"
                    (focus)="openDatePicker('cheque', newChequeDate)"
                  />
                  <div
                    class="jalali-datepicker"
                    *ngIf="activeDatePicker === 'cheque'"
                    (click)="$event.stopPropagation()"
                  >
                    <div class="calendar-header">
                      <button type="button" (click)="changeDatePickerMonth(-1)">
                        ‹
                      </button>
                      <span>{{ datePickerMonths[datePickerMonth - 1] }} {{ datePickerYear }}</span>
                      <button type="button" (click)="changeDatePickerMonth(1)">
                        ›
                      </button>
                    </div>
                    <div class="calendar-grid">
                      <span class="weekday" *ngFor="let day of datePickerWeekdays">{{ day }}</span>
                      <span class="empty" *ngFor="let empty of datePickerLeadingDays"></span>
                      <button
                        type="button"
                        class="day"
                        *ngFor="let day of datePickerDays"
                        [class.selected]="isDatePickerSelected(day)"
                        [class.today]="isDatePickerToday(day)"
                        (click)="selectDatePickerDay(day)"
                      >
                        {{ day }}
                      </button>
                    </div>
                  </div>
                </label>
                <label>
                  مبلغ چک
                  <input type="number"
                         min="0"
                         [ngModel]="newChequeAmount"
                         (ngModelChange)="updateChequeAmount($event)"
                         placeholder="مبلغ چک (تومان)" />
                </label>
                <label>
                  شماره چک
                  <input type="text"
                         [(ngModel)]="newChequeNumber"
                         placeholder="شماره چک" />
                </label>
                <label>
                  صاحب چک
                  <input type="text"
                         [(ngModel)]="newChequeOwner"
                         placeholder="نام صاحب چک" />
                </label>
              </div>
              <button class="outline add-check" type="button" (click)="addCheque()">افزودن چک</button>
              <div class="checks-list" *ngIf="treatmentCheques.length; else noChecks">
                <div class="check-item" *ngFor="let cheque of treatmentCheques">
                  <div>
                    <strong>{{ cheque.number || 'چک بدون شماره' }}</strong>
                    <p class="muted">
                      {{ cheque.date ? ('تاریخ: ' + cheque.date) : 'بدون تاریخ' }} ·
                      مبلغ: {{ formatPrice(cheque.amount) }} تومان ·
                      صاحب: {{ cheque.owner || '---' }}
                    </p>
                  </div>
                  <button class="ghost" type="button" (click)="removeCheque(cheque.id)">حذف</button>
                </div>
              </div>
              <ng-template #noChecks>
                <p class="muted">هنوز چکی ثبت نشده است.</p>
              </ng-template>
            </div>
          </div>

          <label class="treatment-notes">
            توضیحات طرح درمان
            <textarea rows="4"
                      name="treatmentNotes"
                      [(ngModel)]="treatmentPlanNote"
                      (ngModelChange)="persistTreatmentPlan()"></textarea>
          </label>

          <div class="treatment-plan-card">
            <h5>جمع‌بندی طرح درمان</h5>
            <div class="plan-row">
              <span>جمع کل</span>
              <strong>{{ formatPrice(treatmentTotal) }} تومان</strong>
            </div>
            <div class="plan-row">
              <span>پیش پرداخت</span>
              <strong>{{ formatPrice(treatmentPrepaymentAmount) }} تومان</strong>
            </div>
            <div class="plan-row">
              <span>مانده</span>
              <strong>{{ formatPrice(remainingBalance) }} تومان</strong>
            </div>
            <div class="plan-row">
              <span>طرح اقساطی</span>
              <strong>{{ getPersianNumber(selectedInstallmentMonths) }} ماهه</strong>
            </div>
            <div class="plan-row">
              <span>مبلغ هر قسط</span>
              <strong>{{ formatPrice(installmentMonthlyPayment) }} تومان</strong>
            </div>
            <div class="plan-row">
              <span>جمع چک‌ها</span>
              <strong>{{ formatPrice(totalChequeAmount) }} تومان</strong>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>
</div>

<section class="card">
  <header class="section-header">
    <div>
      <h2>لیست مشتری‌ها</h2>
      <p class="muted">نمایش مشتری‌ها همراه با اطلاعات تماس و انتخاب برای مشاهده تماس‌ها.</p>
    </div>
    <button class="outline" (click)="loadClients()" [disabled]="isLoadingClients">
      {{ isLoadingClients ? 'در حال دریافت...' : 'به‌روزرسانی' }}
    </button>
  </header>

  <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>

  <div class="table-wrapper" *ngIf="clients.length">
    <table class="clients-table">
      <thead>
        <tr>
          <th>نام و نام خانوادگی</th>
          <th>عنوان</th>
          <th>موبایل ۱</th>
          <th>موبایل ۲</th>
          <th>تلفن ثابت</th>
          <th>ایمیل</th>
          <th>تماس‌ها</th>
          <th>مدیریت</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let client of clients" [class.active]="client === selectedClient">
          <td>{{ client.firstName }} {{ client.lastName }}</td>
          <td>{{ client.title || 'بدون عنوان' }}</td>
          <td>{{ client.mobileNumber1 || '---' }}</td>
          <td>{{ client.mobileNumber2 || '---' }}</td>
          <td>{{ client.phoneNumber || '---' }}</td>
          <td>{{ client.email || '---' }}</td>
          <td>
            <div class="table-actions">
              <button (click)="selectClient(client, client.mobileNumber1)">موبایل ۱</button>
              <button class="outline" (click)="selectClient(client, client.mobileNumber2)">موبایل ۲</button>
              <button class="outline" (click)="selectClient(client, client.phoneNumber)">تلفن ثابت</button>
            </div>
          </td>
          <td>
            <div class="table-actions">
              <button class="outline" (click)="startEditClient(client)">ویرایش</button>
              <button class="danger" (click)="deleteClient(client)">حذف</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <p class="muted" *ngIf="!clients.length && !isLoadingClients">مشتری‌ای برای نمایش وجود ندارد.</p>
</section>

<section class="card" *ngIf="selectedClient">
  <header class="section-header">
    <div>
      <h2>تماس‌های مشتری</h2>
      <p class="muted">
        {{ selectedClient.firstName }} {{ selectedClient.lastName }} - شماره انتخابی: {{ selectedPhone || '---' }}
      </p>
    </div>
  </header>

  <div class="filters">
      <label class="date-picker-field">
        از تاریخ
        <input
          type="text"
          placeholder="مثال: 1403/01/01"
          [(ngModel)]="startDate"
          (blur)="startDate = normalizeDateInput(startDate)"
          (click)="openDatePicker('callStart', startDate); $event.stopPropagation()"
          (focus)="openDatePicker('callStart', startDate)"
        />
        <div
          class="jalali-datepicker"
          *ngIf="activeDatePicker === 'callStart'"
          (click)="$event.stopPropagation()"
        >
          <div class="calendar-header">
            <button type="button" (click)="changeDatePickerMonth(-1)">
              &lt;
            </button>
            <span>{{ datePickerMonths[datePickerMonth - 1] }} {{ datePickerYear }}</span>
            <button type="button" (click)="changeDatePickerMonth(1)">
              &gt;
            </button>
          </div>
          <div class="calendar-grid">
            <span class="weekday" *ngFor="let day of datePickerWeekdays">{{ day }}</span>
            <span class="empty" *ngFor="let empty of datePickerLeadingDays"></span>
            <button
              type="button"
              class="day"
              *ngFor="let day of datePickerDays"
              [class.selected]="isDatePickerSelected(day)"
              [class.today]="isDatePickerToday(day)"
              (click)="selectDatePickerDay(day)"
            >
              {{ day }}
            </button>
          </div>
        </div>
      </label>
      <label class="date-picker-field">
        تا تاریخ
        <input
          type="text"
          placeholder="مثال: 1403/01/01"
          [(ngModel)]="endDate"
          (blur)="endDate = normalizeDateInput(endDate)"
          (click)="openDatePicker('callEnd', endDate); $event.stopPropagation()"
          (focus)="openDatePicker('callEnd', endDate)"
        />
        <div
          class="jalali-datepicker"
          *ngIf="activeDatePicker === 'callEnd'"
          (click)="$event.stopPropagation()"
        >
          <div class="calendar-header">
            <button type="button" (click)="changeDatePickerMonth(-1)">
              &lt;
            </button>
            <span>{{ datePickerMonths[datePickerMonth - 1] }} {{ datePickerYear }}</span>
            <button type="button" (click)="changeDatePickerMonth(1)">
              &gt;
            </button>
          </div>
          <div class="calendar-grid">
            <span class="weekday" *ngFor="let day of datePickerWeekdays">{{ day }}</span>
            <span class="empty" *ngFor="let empty of datePickerLeadingDays"></span>
            <button
              type="button"
              class="day"
              *ngFor="let day of datePickerDays"
              [class.selected]="isDatePickerSelected(day)"
              [class.today]="isDatePickerToday(day)"
              (click)="selectDatePickerDay(day)"
            >
              {{ day }}
            </button>
          </div>
        </div>
      </label>
    <button (click)="loadCallRecords()" [disabled]="isLoadingCalls">
      {{ isLoadingCalls ? 'در حال دریافت...' : 'نمایش تماس‌ها' }}
    </button>
  </div>

  <p class="error" *ngIf="callsErrorMessage">{{ callsErrorMessage }}</p>

  <div class="calls" *ngIf="callRecords.length">
    <table>
      <thead>
        <tr>
          <th>تاریخ تماس</th>
          <th>تماس‌گیرنده</th>
          <th>شماره مقصد</th>
          <th>مدت زمان</th>
          <th>وضعیت</th>
          <th>فایل ضبط</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let call of callRecords">
          <td>{{ formatCallDate(call.callDate) }}</td>
          <td>{{ call.src }}</td>
          <td>{{ call.dst }}</td>
          <td>{{ call.duration }} ثانیه</td>
          <td>{{ call.disposition }}</td>
          <td>
            <ng-container *ngIf="call.recordingFile; else noRecording">
              <audio controls [src]="getRecordingUrl(call.recordingFile)"></audio>
              <a class="recording-link"
                 [href]="getRecordingUrl(call.recordingFile)"
                 target="_blank"
                 rel="noopener">
                پخش در تب جدید
              </a>
            </ng-container>
            <ng-template #noRecording>---</ng-template>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <p class="muted" *ngIf="!callRecords.length && !isLoadingCalls">تماسی برای این بازه زمانی ثبت نشده است.</p>
</section>
